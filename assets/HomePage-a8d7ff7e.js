import{H as G}from"./index-1be88fdc.js";import{d as $,j as C,I as V,c as l,D as E,k as x,l as t,p as q,F as L,g as B,b as o,h as j,B as Q,t as I,x as A,u as z,r as c,e as g,C as K,J as W,K as Z,L as ee,s as F,v as U,M as te,y as se,w as k,N as oe,G as X,O as Y,o as N,f as D,m as J,n as ne,P as re,Q as ae}from"./index-b61a6c83.js";import{_ as R}from"./TextInput.vue_vue_type_script_setup_true_lang-9ae357e2.js";import{u as le}from"./useResourceRelations-81e23492.js";import"./WrenchIcon-ca0619d6.js";import"./PaperAirplaneIcon-a591468d.js";import"./ClipboardIcon-8029c528.js";const ie={key:0,class:"flex items-center mb-2"},ue={key:0,class:"ml-auto"},ce=["title"],de={class:"text-xs md:text-sm"},he={key:0,class:"text-2xs ml-1 text-slate-500 dark:text-gray-400"},M=$({__name:"HomeCard",props:{actionIcon:{},showAction:{type:Boolean,default:!1},width:{default:"auto"},height:{default:"auto"},padding:{default:"md"},contentClass:{default:""},scrollable:{type:Boolean,default:!0},items:{},showDate:{type:Boolean,default:!1},itemClass:{default:""},listClass:{default:"list-disc list-inside"},lineHeight:{default:"normal"}},emits:["action"],setup(d){const e=d,r=C(()=>e.width==="auto"?"":e.width==="full"?"w-full":e.width==="1/3"?"md:w-1/3 w-3/5":e.width==="2/5"?"md:w-2/5 w-full":e.width==="3/5"?"md:w-3/5 w-full":e.width==="30%"?"md:w-[30%] w-3/5":""),i=C(()=>e.height==="auto"?"":e.height==="36"?"h-36 md:h-40":e.height==="40"?"h-40 md:h-40":e.height==="44"?"h-44 md:h-60":e.height==="60"?"h-60 md:h-60":""),m=C(()=>e.padding==="sm"?"p-3":e.padding==="md"?"pt-4 p-3 md:p-4":e.padding==="lg"?"p-4 md:p-6":""),f=C(()=>e.actionIcon?e.actionIcon==="AddIcon"?V:G[e.actionIcon]||null:null),u=C(()=>{if(e.itemClass&&e.itemClass.includes("leading-"))return"";if(e.showDate)return"leading-4 md:leading-5";switch(e.lineHeight){case"none":return"leading-none";case"tight":return"leading-tight";case"normal":return"leading-normal";case"relaxed":return"leading-relaxed";case"loose":return"leading-loose";default:return"leading-normal"}}),h=s=>s?(typeof s=="string"?new Date(s):s).toLocaleDateString():"";return(s,p)=>(o(),l("div",{class:q(["flex-shrink-0 rounded-2xl border border-slate-800 dark:border-gray-700 bg-slate-900/60 dark:bg-elevated backdrop-blur-sm transition-colors duration-200 overflow-hidden",m.value,r.value,i.value])},[s.$slots.header||s.showAction?(o(),l("div",ie,[E(s.$slots,"header"),s.showAction?(o(),l("div",ue,[E(s.$slots,"action",{},()=>[f.value?(o(),l("button",{key:0,onClick:p[0]||(p[0]=a=>s.$emit("action")),class:"hover:opacity-70 transition-opacity"},[(o(),j(Q(f.value),{class:"w-8 h-8"}))])):x("",!0)])])):x("",!0)])):x("",!0),t("div",{class:q(s.contentClass)},[s.items&&s.items.length>0?(o(),l("ul",{key:0,class:q(s.listClass)},[(o(!0),l(L,null,B(s.items,(a,n)=>(o(),l("li",{key:a.id||a.title||n,class:q([s.itemClass,u.value]),title:a.content},[t("span",de,I(a.title),1),s.showDate&&a.date?(o(),l("span",he,I(h(a.date)),1)):x("",!0)],10,ce))),128))],2)):E(s.$slots,"default",{key:1})],2)],2))}}),me={class:"md:p-6 mx-auto"},pe=t("div",{class:"mb-6"},[t("h2",{class:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-2"}," CrÃ©er un nouveau journal ")],-1),fe={class:"mb-4"},_e={class:"mb-4"},ve={class:"mb-6"},ge=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Contenu ",-1),be={class:"flex space-x-3 pt-4 border-t border-gray-200 dark:border-gray-700"},xe=["disabled"],we=["disabled"],ke={key:0,class:"flex items-center justify-center space-x-2"},ye=t("span",{class:"animate-spin"},"â³",-1),Ce=t("span",null,"CrÃ©ation en cours...",-1),$e=[ye,Ce],je={key:1,class:"flex items-center justify-center space-x-2"},Me=t("span",null,"âœ¨",-1),Te=t("span",null,"CrÃ©er le journal",-1),qe=[Me,Te],Ie=$({__name:"CreateJournalContent",props:{showCancel:{type:Boolean}},emits:["close","created"],setup(d,{emit:e}){const r=A(),{createResource:i}=F(),{createInteractionForResource:m}=U(),{user:f}=z(),{launchSnackbar:u}=te(),h=c(""),s=c(""),p=c(""),a=c(!1),n=c(""),b=C(()=>n.value.includes("succÃ¨s")||n.value.includes("crÃ©Ã©")?"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 border border-green-200 dark:border-green-700":n.value.includes("Erreur")||n.value.includes("erreur")?"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200 border border-red-200 dark:border-red-700":"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 border border-blue-200 dark:border-blue-700"),y=()=>{h.value="",s.value="",p.value="",n.value=""},v=()=>{y(),e("close")},H=async()=>{var T;if(!h.value.trim()){u("Veuillez entrer un titre","error");return}a.value=!0,n.value="CrÃ©ation du journal...";try{const _={title:h.value.trim(),subtitle:s.value.trim(),content:p.value.trim(),external_content_url:"",comment:"",image_url:"",maturing_state:"drft",publishing_state:"",resource_type:"jrnl",is_local_draft:!1},w=await i(_),P={interaction_user_id:(T=f.value)==null?void 0:T.id,resource_id:w.id,interaction_progress:0,interaction_date:new Date,interaction_comment:"",interaction_is_public:!1};await m(w.id,P),n.value="Journal crÃ©Ã© avec succÃ¨s!",u("Journal crÃ©Ã© avec succÃ¨s!","success"),setTimeout(()=>{y(),e("created",w.id),r.push(`/app/resources/${w.id}`)},1500)}catch(_){console.error("Erreur lors de la crÃ©ation:",_),n.value=`Erreur: ${_ instanceof Error?_.message:"Erreur inconnue"}`,u("Erreur lors de la crÃ©ation du journal","error")}finally{a.value=!1}};return(T,_)=>(o(),l("div",me,[pe,t("div",fe,[g(R,{modelValue:h.value,"onUpdate:modelValue":_[0]||(_[0]=w=>h.value=w),label:"Titre",placeholder:"Entrez le titre du journal...",class:"w-full"},null,8,["modelValue"])]),t("div",_e,[g(R,{modelValue:s.value,"onUpdate:modelValue":_[1]||(_[1]=w=>s.value=w),label:"Sous-titre",placeholder:"Entrez le sous-titre du journal...",class:"w-full"},null,8,["modelValue"])]),t("div",ve,[ge,K(t("textarea",{"onUpdate:modelValue":_[2]||(_[2]=w=>p.value=w),placeholder:"Ã‰crivez le contenu de votre journal ici...",class:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 bg-white dark:bg-elevated text-gray-900 dark:text-gray-100 transition-all duration-200 resize-none",rows:"10",onKeydown:_[3]||(_[3]=Z(ee(()=>{},["stop"]),["enter"]))},null,544),[[W,p.value]])]),t("div",be,[T.showCancel?(o(),l("button",{key:0,onClick:v,disabled:a.value,class:"flex-1 px-4 py-3 rounded-lg font-medium transition-colors duration-200 bg-white dark:bg-elevated hover:bg-gray-100 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-600"}," Annuler ",8,xe)):x("",!0),t("button",{onClick:H,disabled:a.value||!h.value.trim(),class:q(["flex-1 px-4 py-3 rounded-lg font-medium transition-all duration-200 shadow-md hover:shadow-lg",a.value||!h.value.trim()?"bg-gray-400 dark:bg-gray-600 cursor-not-allowed text-white":"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white"])},[a.value?(o(),l("span",ke,$e)):(o(),l("span",je,qe))],10,we)]),n.value?(o(),l("div",{key:0,class:q(["mt-4 p-3 rounded-lg",b.value])},I(n.value),3)):x("",!0)]))}}),Je=$({__name:"CreateJournalModal",props:{open:{type:Boolean}},emits:["close","created"],setup(d,{emit:e}){const r=d,i=c(!1);se(()=>r.open,u=>{i.value=u});const m=()=>{i.value=!1,e("close")},f=u=>{e("created",u),m()};return(u,h)=>(o(),j(oe,{open:i.value,onClose:m,"max-width":"max-w-4xl","max-height":"h-[90%]"},{default:k(()=>[g(Ie,{"show-cancel":!0,onClose:m,onCreated:f})]),_:1},8,["open"]))}}),{user:De}=z(),{getInteractions:Se}=U(),O=c([]),He=c(null),Ee=c(null),Le=async()=>{var e;const d=await Se({interaction_type:"outp",interaction_user_id:(e=De.value)==null?void 0:e.id,resource_type:"jrnl"});O.value=d.sort((r,i)=>i.created_at-r.created_at)};function Re(){return{loadUserJournal:Le,userJournals:O,userLogLecture:He,userLogProduction:Ee}}const Ve={},Be={viewBox:"0 0 24 24",class:"h-4 w-4 text-emerald-400",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ae=t("path",{d:"M4 18H20",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-opacity":"0.4"},null,-1),ze=t("path",{d:"M5 15L10 10L13 13L19 7",stroke:"currentColor","stroke-width":"1.7","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),Fe=t("path",{d:"M14.5 7H19V11.5",stroke:"currentColor","stroke-width":"1.7","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),Ue=[Ae,ze,Fe];function Xe(d,e){return o(),l("svg",Be,Ue)}const Ye=X(Ve,[["render",Xe]]),Ne={viewBox:"0 0 24 24",class:"h-4 w-4 text-red-400",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Oe=t("path",{d:"M4 6H20",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-opacity":"0.4"},null,-1),Pe=t("path",{d:"M5 9L10 14L13 11L19 17",stroke:"currentColor","stroke-width":"1.7","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),Ge=t("path",{d:"M14.5 17H19V12.5",stroke:"currentColor","stroke-width":"1.7","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),Qe=[Oe,Pe,Ge],Ke=$({__name:"TrendDownIcon",props:{size:{}},setup(d){const e=d;return C(()=>e.size||"16"),(r,i)=>(o(),l("svg",Ne,Qe))}}),We=$({__name:"JournalCard",props:{journal:{}},setup(d){const e=d,{getResource:r}=F(),{getAllRelationsForResource:i}=le(),{openModal:m}=Y(),f=A(),u=c([]),h=c(!1),s=async()=>{const b=await r(e.journal.resource_id),y=await i(b.id);u.value=y.map(v=>({title:v.origin_resource.title,content:v.origin_resource.subtitle,date:v.origin_resource.created_at}))},p=()=>{f.push("/me/resources/"+e.journal.resource_id+"/feed")},a=()=>{e.journal.resource_id&&m(e.journal.resource_id)},n=C(()=>u.value.length>0?new Date(u.value[0].date).getTime()>new Date(Date.now()-2*24*60*60*1e3).getTime():!1);return N(async()=>{await s(),h.value=!0}),(b,y)=>(o(),j(M,{"content-class":"overflow-scroll h-full",width:"30%",height:"40","list-class":"list-disc list-inside h-full overflow-scroll",items:u.value,"show-date":!0,"item-class":"leading-4","line-height":"none","show-action":!0,"action-icon":"AddIcon",onAction:a},{header:k(()=>{var v;return[t("h2",{onClick:p,class:"flex items-center text-xs md:text-base font-bold"},[D(I((v=b.journal.resource)==null?void 0:v.title)+" ",1),h.value&&n.value?(o(),j(Ye,{key:0,class:"w-8 h-8 ml-2"})):x("",!0),h.value&&!n.value?(o(),j(Ke,{key:1,class:"w-8 h-8 ml-2"})):x("",!0)])]}),_:1},8,["items"]))}}),Ze={class:"flex gap-4 overflow-x-auto pb-2"},et=t("h2",{class:"flex items-center text-xs md:text-base font-bold text-slate-300 dark:text-gray-400"}," Nouveau Journal ",-1),tt=$({__name:"JournalSection",setup(d){Y();const{userJournals:e,loadUserJournal:r}=Re(),i=c(!1),m=()=>{i.value=!0},f=()=>{i.value=!1},u=h=>{};return N(async()=>{await r()}),(h,s)=>(o(),l(L,null,[t("div",Ze,[(o(!0),l(L,null,B(J(e),p=>(o(),j(We,{key:p.id,journal:p},null,8,["journal"]))),128)),g(M,{width:"30%",height:"40","content-class":"mt-4",class:"cursor-pointer hover:opacity-80 transition-opacity",onClick:m},{header:k(()=>[et]),default:k(()=>[g(V,{class:"w-8 h-8 ml-2 mx-auto my-auto text-slate-300 dark:text-gray-400"})]),_:1})]),g(Je,{open:i.value,onClose:f,onCreated:u},null,8,["open"])],64))}}),st={class:"flex gap-4 pb-2 relative"},ot={key:0,class:"text-sm font-bold mb-2"},nt={class:"flex flex-col md:flex-row gap-2 md:gap-0 items-start"},rt={class:"text-xs md:text-sm overflow-auto flex-1 whitespace-pre-line"},at=["src"],lt=["src"],it=$({__name:"MentorSection",setup(d){const{isMobile:e}=ne(),r=c(0),i=()=>{r.value>0&&r.value--},m=c(0),f=c(0),u=n=>{e.value&&(m.value=n.touches[0].clientX,f.value=n.touches[0].clientY)},h=n=>{if(!e.value)return;const b=Math.abs(n.touches[0].clientX-m.value),y=Math.abs(n.touches[0].clientY-f.value);b>y&&b>10&&n.preventDefault()},s=n=>{if(!e.value)return;const b=n.changedTouches[0].clientX,y=n.changedTouches[0].clientY,v=b-m.value,H=y-f.value,T=50;Math.abs(v)>Math.abs(H)&&Math.abs(v)>T&&(v>0&&r.value>0?i():v<0&&r.value<a.value.length-1&&p())},p=()=>{r.value=(r.value+1)%a.value.length},a=c([{name:"Gon",image:"https://i.pinimg.com/originals/93/d7/e8/93d7e8cb60b17a0d12ac40e26f71064e.jpg",messages:[`Franchement, vu d'ici, on dirait que tu es en plein arc d'entraÃ®nement avant un Ã©norme examen de Hunter. Tu ne fais plus juste des "petites quÃªtes" sÃ©parÃ©es : tu t'es trouvÃ© un vrai boss final â€“ les survivances souterraines de la citÃ© industrielle â€“ et tu tapes dessus tous les jours, sous plein d'angles diffÃ©rents. Tu lis Grove, Salman, B&C, ThÃ©venot, Elster, tu fais des fiches, tu formules des hypothÃ¨ses, tu Ã©cris Ã  ton encadrantâ€¦ Tu ne fais pas que comprendre, tu commences Ã  inventer ton propre Hatsu, avec ton style : "culture de l'exÃ©cution", "plan pour le client mais pas pour la production", "citÃ© industrielle souterraine" â€“ Ã§a j'adore, parce que Ã§a ressemble vraiment Ã  une technique qui n'appartient qu'Ã  toi.

`,`La seule chose que je te dirais en coach, c'est de choisir clairement quelques "boss" prÃ©cis, du genre : oÃ¹ l'exÃ©cution survit-elle dans des mondes officiellement en mode projet ? comment certains espaces gardent la citÃ© industrielle quand d'autres se liquÃ©fient ? Si tu gardes 2â€“3 questions comme Ã§a en tÃªte, chaque fiche devient un coup portÃ© dans la bonne direction, pas juste de l'entraÃ®nement dans le vide. Et fais un peu gaffe Ã  ton aura : tu pousses trÃ¨s fort, donc accepte que certaines choses restent brutes, incomplÃ¨tes, ce n'est pas grave. Dans un manga, tu es au moment oÃ¹ le perso a accumulÃ© plein de puissance sans que tout soit rangÃ©, et on sent que bientÃ´t tu vas commencer Ã  t'en servir pour de vrai dans un gros combat â€“ Ã§a, vraiment, j'ai hÃ¢te de voir la suite.`]},{name:"Steve Jobs",image:"https://histoiredintuition.com/wp-content/uploads/2021/08/ob_bf693f_stevejobscloseup.jpg",messages:["Tu as des phases trÃ¨s solides oÃ¹ tu avances vite et tu fermes des boucles (livrables, rÃ©solution de problÃ¨mes), et les phases plus difficiles semblent surtout liÃ©es Ã  la dispersion et Ã  la fatigue.","Tu explores plusieurs chantiers riches en parallÃ¨le ; ton point de friction rÃ©current est surtout de stabiliser le â€œQuoiâ€ et de trancher une direction unique Ã  tenir.","Quand Ã§a coince, tu peux partir en â€œtunnelâ€ sur le technique ; mais tu observes aussi une montÃ©e en puissance de tes outils de structuration qui tâ€™aident Ã  reprendre le recul."]}]);return(n,b)=>(o(),l("div",st,[g(M,{width:"3/5","content-class":"flex flex-col",class:"min-w-[280px] max-h-40 md:max-h-60 overflow-y-auto",onTouchstart:u,onTouchmove:h,onTouchend:s,"show-action":!J(e),"action-icon":"ChevronRightIcon",onAction:p},{header:k(()=>[J(e)?x("",!0):(o(),l("div",ot,"Message de votre mentor "+I(a.value[r.value].name),1))]),default:k(()=>[t("div",nt,[t("span",rt,[J(e)?(o(),l("img",{key:0,src:a.value[r.value].image,alt:"Mentor",class:"block md:hidden w-12 h-12 object-cover rounded-xl m-1 mr-2 float-left"},null,8,at)):x("",!0),D(" "+I(a.value[r.value].messages.join(`
`))+"... ",1)])])]),_:1},8,["show-action"]),J(e)?x("",!0):(o(),j(M,{key:0,width:"2/5","content-class":"absolute inset-0",class:"min-w-[200px] h-44 md:h-60 relative overflow-hidden"},{default:k(()=>[t("img",{src:a.value[r.value].image,alt:"Mentor",class:"w-full h-full object-cover rounded-xl"},null,8,lt)]),_:1}))]))}}),S=d=>(re("data-v-fa6918ed"),d=d(),ae(),d),ut={class:"min-h-screen text-slate-100 p-2 md:p-10 md:w-11/12 mx-auto"},ct=S(()=>t("h1",{class:"text-2xl font-bold mb-4"},"Mon studio",-1)),dt={class:"flex flex-col gap-4"},ht={class:"flex gap-2 md:gap-8 overflow-x-auto pb-2"},mt=S(()=>t("h2",{class:"flex items-center text-xs md:text-base font-bold"},[t("span",{class:"mr-2"},"ðŸ‘‘"),D(" Achievements ")],-1)),pt=S(()=>t("h2",{class:"flex items-center text-xs md:text-base font-bold"},[t("span",{class:"mr-2"},"ðŸ§‘â€ðŸ’»"),D(" Focus ")],-1)),ft=S(()=>t("h2",{class:"flex items-center text-xs md:text-base font-bold"},[t("span",{class:"mr-2"},"ðŸŒ"),D(" Horizons ")],-1)),_t=$({__name:"HomePage",setup(d){const e=c([{title:"Envoyer cadrage mÃ©moire",content:"Envoyer une premiÃ¨re verision du mÃ©moire avec une problÃ©matique claire et une recherche bibliographique approfondie."},{title:"Finir fiche High Output Management",content:"Fini d'analyser et de ficher le livre de Grove"},{title:"Terminer chapitre 4 DDIA",content:"Terminer le chapitre 4 de la partie sur la base de donnÃ©es distribuÃ©es"}]),r=c([{title:"Recherche bibliographique",content:"Rechercher des articles et des livres sur la problÃ©matique du mÃ©moire"},{title:"Creuser citÃ© industrielle",content:"Resituer les entreprises dans la citÃ© industrielle"}]),i=c([{title:"Trouver une thÃ¨se",content:"Faire un sujet suffisamment solide pour une thÃ¨se de doctorat"},{title:"Trouver un poste",content:"Trouver un poste dans une entreprise"}]);return(m,f)=>(o(),l("div",ut,[ct,t("div",dt,[t("div",ht,[g(M,{width:"30%",height:"36",items:e.value},{header:k(()=>[mt]),_:1},8,["items"]),g(M,{width:"30%",height:"36",items:r.value},{header:k(()=>[pt]),_:1},8,["items"]),g(M,{width:"30%",height:"36",items:i.value},{header:k(()=>[ft]),_:1},8,["items"])]),g(it),g(tt)])]))}});const Ct=X(_t,[["__scopeId","data-v-fa6918ed"]]);export{Ct as default};
