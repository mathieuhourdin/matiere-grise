import{a as C,u as x}from"./useThoughtOutput-29a166de.js";import{B as k,d as g,r as f,l as v,v as T,o as a,c as u,h as y,w as D,f as e,t as i,F as w,p as P,m as B,u as F,C as $,i as I}from"./index-68b0b0aa.js";const{createThoughtOutput:L}=C(),A=()=>({title:"",description:"",content:"",publishing_state:"drft",image_url:"",output_type:"pblm",progress:0,potential_improvements:"",maturing_state:""}),N=r=>r,O=async()=>(await k.get("/problems")).data.map(o=>N(o));function R(){return{newProblem:A,getProblems:O,createProblem:L}}const V={class:"border shadow-xl rounded m-2 p-4 h-72 w-60"},q={class:"max-h-full"},S=["src"],U={class:"h-full"},j={class:"mb-2"},E={class:"text-2xs italic",style:{"margin-top":"-8px"}},M={class:"text-2xs mb-auto"},W={class:"flex mt-2"},z={class:"text-2xs italic mt-auto"},G={class:"ml-auto text-2xs underline"},H=g({__name:"ProblemCard",props:{problem:{}},setup(r){const o=r,d=t=>new Date(t.split(".")[0]).toLocaleString("fr-FR",{hour:"numeric",weekday:"short",day:"numeric",month:"short",year:"2-digit"}),c=t=>t.length>200?t.slice(0,150)+"...":t,l=f([]),{getThoughtInputUsagesForThoughtOutput:m}=x(),p=async()=>{l.value=await m(o.problem.id)};return v(()=>p()),(t,_)=>{const h=T("router-link");return a(),u("div",V,[y(h,{to:"/thought_outputs/"+t.problem.id},{default:D(()=>[e("div",q,[e("img",{class:"h-28 mx-auto mb-4",src:t.problem.image_url},null,8,S),e("div",U,[e("div",j,i(t.problem.title),1),e("div",E,i(t.problem.owner_id),1),e("div",M,i(c(t.problem.description)),1),e("div",W,[e("div",z,i(d(t.problem.created_at)),1),e("div",G,i(l.value.length)+" inputs",1)])])])]),_:1},8,["to"])])}}}),J=e("hr",{class:"border-top border-slate-800 border-dashed my-1"},null,-1),K={class:"flex overflow-scroll"},Q=g({__name:"CategoryProblemsCarousel",props:{problemsList:{},categoryTitle:{}},setup(r){return(o,d)=>(a(),u("div",null,[e("div",null,i(o.categoryTitle),1),J,e("div",K,[(a(!0),u(w,null,P(o.problemsList,(c,l)=>(a(),u("div",{key:l},[y(H,{problem:c},null,8,["problem"])]))),128))])]))}}),X={class:"m-4"},tt=g({__name:"ProblemsView",setup(r){const o=B(),{getProblems:d,newProblem:c,createProblem:l}=R(),m=f([]),{categories:p}=$(),t=async()=>{const s=c(),n=await l(s);o.push({path:"/thought_outputs/"+n.id,query:{editing:!0}})},_=s=>s.display_name=="default"?m.value.filter(n=>n.category_id==null):m.value.filter(n=>n.category_id==s.id),h=s=>s=="default"?"Autres":s;return v(async()=>m.value=await d()),(s,n)=>(a(),u("div",null,[e("div",X,[e("div",{class:"underline italic",onClick:t}," Ajouter une problÃ©matique "),(a(!0),u(w,null,P(F(p),b=>(a(),I(Q,{"category-title":h(b.display_name),key:b.id,"problems-list":_(b)},null,8,["category-title","problems-list"]))),128))])]))}});export{tt as default};
