import{d as h,r as g,s as y,l as v,B as x,o as a,c as l,t as n,a as c,f as s,h as m,w as _,y as f,x as I,i as w,e as C,F as B,p as $,C as b,q as S,z as N,g as T,D as V}from"./index-4fdccb9a.js";const z={class:"m-3 md:w-96"},D={key:0,class:"text-xs italic mb-2"},F={class:"border shadow-lg rounded p-4 md:w-96"},L={class:"flex"},M=["src"],R={class:"flex flex-wrap w-full",style:{"margin-top":"-8px"}},U={class:"text-2xs italic"},q={class:"ml-auto m-1 w-1/3"},A={class:"text-2xs"},E={class:"flex flex-wrap"},O={key:0,class:"text-2xs italic"},j=h({__name:"ThoughtInputCard",props:{thoughtInput:{}},setup(d){const i=d,{getUserById:u}=C(),t=g(null);y(()=>t.value&&t.value.id===user.value.id),v(async()=>t.value=await u(i.thoughtInput.input_user_id));const r=e=>e.toLocaleString("fr-FR",{hour:"numeric",weekday:"short",day:"numeric",month:"short",year:"2-digit"}),o=e=>e.length>200?e.slice(0,150)+"...":e;return(e,k)=>{const p=x("router-link");return a(),l("div",z,[e.thoughtInput.usage_reason?(a(),l("div",D,n(e.thoughtInput.usage_reason),1)):c("",!0),s("div",F,[s("div",L,[s("img",{class:"w-8 h-fit mr-4",src:e.thoughtInput.resource_image_link},null,8,M),s("div",null,[s("div",null,[m(p,{to:"/thought_inputs/"+e.thoughtInput.id},{default:_(()=>[f(n(e.thoughtInput.resource_title),1)]),_:1},8,["to"])]),s("div",R,[s("div",U,n(e.thoughtInput.resource_author_name),1),s("div",q,[m(I,{"progress-value":e.thoughtInput.input_progress},null,8,["progress-value"])])]),s("div",A,n(o(e.thoughtInput.input_comment)),1)])]),s("div",E,[e.thoughtInput.input_date?(a(),l("div",O,n(r(e.thoughtInput.input_date)),1)):c("",!0),t.value?(a(),w(p,{key:1,to:"/users/"+t.value.id,class:"ml-auto text-2xs underline"},{default:_(()=>[f(n(t.value.first_name)+" "+n(t.value.last_name),1)]),_:1},8,["to"])):c("",!0)])])])}}}),G={class:"relative max-w-full"},H={key:0,class:"absolute md:border h-full start-1/2"},K=h({__name:"ThoughtInputsList",props:{thoughtInputs:{},center:{type:Boolean,default:!1}},emits:["select"],setup(d,{emit:i}){const u=t=>{console.log("Select"),i("select",t)};return(t,r)=>(a(),l("div",G,[t.center?c("",!0):(a(),l("div",H)),(a(!0),l(B,null,$(t.thoughtInputs,(o,e)=>(a(),w(j,{key:o.id,class:b(["mx-auto max-w-full",{"md:ml-0":e%2==0&&!t.center,"md:mr-0":!t.center}]),"thought-input":o,onClick:k=>u(o)},null,8,["class","thought-input","onClick"]))),128))]))}}),P=h({__name:"ModalSheet",props:{open:{type:Boolean,default:!1}},emits:["close"],setup(d,{emit:i}){const u=d,t=g(!1);return v(()=>t.value=u.open),S(N(u).open,r=>t.value=r),(r,o)=>t.value?(a(),l("div",{key:0,class:"fixed top-0 left-0 w-full h-full z-10 bg-slate-500/50",onClick:o[1]||(o[1]=e=>i("close"))},[s("div",{class:"max-w-xl overflow-y-scroll max-h-screen mb-10 bg-white mx-auto mt-6 p-4 rounded shadow",onClick:o[0]||(o[0]=V(()=>{},["stop"]))},[T(r.$slots,"default")])])):c("",!0)}});export{K as _,P as a};
