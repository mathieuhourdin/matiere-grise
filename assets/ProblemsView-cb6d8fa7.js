import{z as f,d,A as g,o as a,c as l,h as p,w as v,f as e,t as r,m as P,r as w,q as y,F as x,B as k}from"./index-77e9de4b.js";import{u as C}from"./useThoughtOutput-1bbe5dec.js";const{createThoughtOutput:$}=C(),B=()=>({title:"",description:"",content:"",publishing_state:"drft",image_url:"",output_type:"pblm",progress:0,potential_improvements:"",maturing_state:""}),q=s=>s,A=async()=>(await f.get("/problems")).data.map(o=>q(o));function D(){return{newProblem:B,getProblems:A,createProblem:$}}const F={class:"border shadow-xl rounded m-2 p-4 h-72 w-60"},N={class:"max-h-full"},R=["src"],T={class:"h-full"},V={class:"text-2xs italic",style:{"margin-top":"-8px"}},L={class:"text-2xs mb-auto"},O={class:"flex mt-auto"},S={class:"text-2xs italic mt-auto"},j={class:"ml-auto text-2xs underline"},z=d({__name:"ProblemCard",props:{problem:{}},setup(s){const o=t=>t.toLocaleString("fr-FR",{hour:"numeric",weekday:"short",day:"numeric",month:"short",year:"2-digit"}),i=t=>t.length>200?t.slice(0,150)+"...":t;return(t,c)=>{const n=g("router-link");return a(),l("div",F,[p(n,{to:"/thought_outputs/"+t.problem.id},{default:v(()=>[e("div",N,[e("img",{class:"h-28 mx-auto mb-4",src:t.problem.image_url},null,8,R),e("div",T,[e("div",null,r(t.problem.title),1),e("div",V,r(t.problem.owner_id),1),e("div",L,r(i(t.problem.description)),1),e("div",O,[e("div",S,r(o(t.problem.created_at)),1),e("div",j,r(t.problem.inputs)+" inputs",1)])])])]),_:1},8,["to"])])}}}),E={class:"m-4"},H=e("div",null,"Histoire et sociétés",-1),M=e("hr",{class:"border-top border-slate-800 border-dashed my-1"},null,-1),W={class:"flex"},J=d({__name:"ProblemsView",setup(s){const o=P(),{getProblems:i,newProblem:t,createProblem:c}=D(),n=w([]),_=async()=>{const u=t(),m=await c(u);o.push({path:"/thought_outputs/"+m.id,query:{editing:!0}})};return y(async()=>n.value=await i()),(u,m)=>(a(),l("div",null,[e("div",E,[e("div",{class:"underline italic",onClick:_},"Ajouter une problématique"),H,M,e("div",W,[(a(!0),l(x,null,k(n.value,(h,b)=>(a(),l("div",{key:b},[p(z,{problem:h},null,8,["problem"])]))),128))])])]))}});export{J as default};
