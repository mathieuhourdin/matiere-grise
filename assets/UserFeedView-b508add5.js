import{d as f,o as d,c as V,f as o,t as c,r as i,h as a,_ as g,l as I,i as x,a as U,u as h,w,y as $,v as k,e as C}from"./index-9e9773bc.js";import{_ as N}from"./ModalSheet.vue_vue_type_script_setup_true_lang-25f7847a.js";import{_ as s}from"./TextInput.vue_vue_type_script_setup_true_lang-97f6c279.js";import{u as y,_ as T}from"./ThoughtInputsList.vue_vue_type_script_setup_true_lang-06dcc08e.js";const B={class:"text-center p-4 bg-slate-200"},D={class:"text-2xl bold"},A=f({__name:"UserInfos",props:{user:{}},setup(p){return(u,n)=>(d(),V("div",B,[o("div",D,c(u.user.first_name)+" "+c(u.user.last_name),1),o("div",null,c(u.user.handle),1)]))}}),L=o("div",null,"Nouvel apport",-1),q={class:"flex flex-wrap"},E={class:"flex flex-wrap"},F={class:"flex flex-row-reverse"},M=f({__name:"CreateThoughtInput",emits:["close"],setup(p,{emit:u}){const{newThoughtInput:n,createThoughtInput:_}=y(),e=i(n()),r=()=>{_(e.value),m()},m=()=>u("close");return(v,t)=>(d(),V("div",null,[L,a(s,{label:"titre de l'ouvrage",modelValue:e.value.resource_title,"onUpdate:modelValue":t[0]||(t[0]=l=>e.value.resource_title=l)},null,8,["modelValue"]),o("div",q,[a(s,{class:"h-8 w-full md:w-5/12",label:"Nom de l'auteur",modelValue:e.value.resource_author_name,"onUpdate:modelValue":t[1]||(t[1]=l=>e.value.resource_author_name=l)},null,8,["modelValue"]),a(s,{class:"h-8 w-full md:w-5/12 md:ml-auto",label:"type de resource",modelValue:e.value.resource_type,"onUpdate:modelValue":t[2]||(t[2]=l=>e.value.resource_type=l)},null,8,["modelValue"])]),o("div",E,[a(s,{class:"h-8 w-full md:w-5/12",label:"Lien de la ressource",modelValue:e.value.resource_link,"onUpdate:modelValue":t[3]||(t[3]=l=>e.value.resource_link=l)},null,8,["modelValue"]),a(s,{class:"h-8 w-full md:w-5/12 md:ml-auto",label:"Lien de l'image",modelValue:e.value.resource_image_link,"onUpdate:modelValue":t[4]||(t[4]=l=>e.value.resource_image_link=l)},null,8,["modelValue"])]),a(s,{label:"Commentaire sur l'ouvrage",modelValue:e.value.resource_comment,"onUpdate:modelValue":t[5]||(t[5]=l=>e.value.resource_comment=l)},null,8,["modelValue"]),a(s,{label:"Avancement de l'ouvrage",modelValue:e.value.input_progress,"onUpdate:modelValue":t[6]||(t[6]=l=>e.value.input_progress=l),type:"number"},null,8,["modelValue"]),a(s,{label:"Date de lecture",modelValue:e.value.input_date,"onUpdate:modelValue":t[7]||(t[7]=l=>e.value.input_date=l),type:"date"},null,8,["modelValue"]),a(s,{label:"Pourquoi s'y être interessé ?",modelValue:e.value.input_comment,"onUpdate:modelValue":t[8]||(t[8]=l=>e.value.input_comment=l)},null,8,["modelValue"]),o("div",F,[a(g,{onClick:r,class:"m-4",text:"Valider",type:"valid"}),a(g,{onClick:m,class:"m-4",text:"Annuler",type:"abort"})])]))}}),P={class:"m-8"},S=o("div",{class:"text-center m-4 italic text-sm"},"Derniers apports extérieurs",-1),J=f({__name:"UserFeedView",props:{pageUserId:{}},setup(p){const u=p,n=i(!1),{getUserById:_,user:e}=C(),r=i(null),{getUserThoughtInputs:m}=y(),v=i([]);return I(async()=>{r.value=await _(u.pageUserId),v.value=await m(u.pageUserId)}),(t,l)=>(d(),V("div",null,[o("div",P,[r.value?(d(),x(A,{key:0,class:"mx-auto border my-8",user:r.value},null,8,["user"])):U("",!0),S,h(e)&&t.pageUserId==h(e).id?(d(),x(k,{key:1,class:"mx-auto md:mx-0",onClick:l[0]||(l[0]=b=>n.value=!0)},{default:w(()=>[$("+")]),_:1})):U("",!0),a(N,{open:n.value},{default:w(()=>[a(M,{onClose:l[1]||(l[1]=b=>n.value=!1)})]),_:1},8,["open"]),a(T,{class:"mx-auto","thought-inputs":v.value},null,8,["thought-inputs"])])]))}});export{J as default};
