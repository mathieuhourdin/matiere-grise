import{d as _,o as u,c as d,a as n,t as b,b as v,n as f,r as i,e as l,f as g}from"./index-6a3df7ea.js";const h={class:"m-4"},V={class:"block"},y=["value","placeholder"],p=_({__name:"TextInput",props:{label:{},modelValue:{},placeholder:{}},emits:["update:modelValue"],setup(r,{emit:t}){const a=e=>{t("update:modelValue",e.target.value)};return(e,o)=>(u(),d("div",h,[n("label",V,b(e.label),1),n("input",{class:"border block",value:e.modelValue,placeholder:e.placeholder,onInput:o[0]||(o[0]=s=>a(s))},null,40,y)]))}}),m=_({__name:"ActionButton",props:{text:{},type:{}},setup(r){const t=r,a=v(()=>t.type=="valid"?"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded":t.type=="abort"?"bg-white hover:bg-gray-100 text-gray-800 font-semibold py-2 px-4 border border-gray-400 rounded shadow":"");return(e,o)=>(u(),d("div",null,[n("button",{class:f(a.value),onClick:o[0]||(o[0]=s=>e.$emit("click"))},b(e.text),3)]))}}),w={class:"w-1/3 border shadow rounded"},x=n("div",{class:"m-2"},"Connectez-vous",-1),$={class:"flex"},k={__name:"LoginForm",setup(r){const t=i(""),a=i(""),e=async()=>{console.log("Submit"),console.log(t.value);const o=await g.post("/sessions",{username:t.value,password:a.value});if(o.status==200){const s=await o.json();localStorage.setItem("sessionId",s.id),localStorage.setItem("userId",s.user_id)}};return(o,s)=>(u(),d("div",w,[x,l(p,{label:"Username",modelValue:t.value,"onUpdate:modelValue":s[0]||(s[0]=c=>t.value=c)},null,8,["modelValue"]),l(p,{label:"Password",modelValue:a.value,"onUpdate:modelValue":s[1]||(s[1]=c=>a.value=c)},null,8,["modelValue"]),n("div",$,[l(m,{class:"ml-auto m-2",text:"Valider",type:"valid",onClick:e}),l(m,{class:"m-2",text:"Annuler",type:"abort",onClick:e})])]))}},C={class:"h-80 flex items-center justify-center"},B={__name:"LoginView",setup(r){return(t,a)=>(u(),d("div",C,[l(k)]))}};export{B as default};
