import{_ as u}from"./TextInput.vue_vue_type_script_setup_true_lang-1cdeb723.js";import{e as c,o as i,c as m,b as n,t as _,r as b,f as g,a as s,u as p,_ as f}from"./index-622ba996.js";const v={class:"m-4"},$={class:"block text-2xs text-slate-800"},h=["value","placeholder"],A=c({__name:"NumberInput",props:{label:{},modelValue:{},placeholder:{}},emits:["update:modelValue","input"],setup(d,{emit:r}){const o=l=>{r("update:modelValue",l.target.value),r("input",l.target.value)};return(l,a)=>(i(),m("div",v,[n("label",$,_(l.label),1),n("input",{class:"border border-neutral-400 block h-full w-full rounded-md border-2 p-1 pl-2 text-xs",type:"number",value:l.modelValue,placeholder:l.placeholder,onInput:a[0]||(a[0]=e=>o(e))},null,40,h)]))}}),U={class:"m-4"},w={class:"block text-2xs text-slate-800"},x=["value","placeholder"],V=c({__name:"TextAreaInput",props:{label:{},modelValue:{},placeholder:{}},emits:["update:modelValue"],setup(d,{emit:r}){const o=l=>{r("update:modelValue",l.target.value)};return(l,a)=>(i(),m("div",U,[n("label",w,_(l.label),1),n("textarea",{class:"border border-neutral-800 block h-full w-full",value:l.modelValue,placeholder:l.placeholder,onInput:a[0]||(a[0]=e=>o(e))},null,40,x)]))}});function k(){return{newArticle:()=>b({title:"",description:"",content:"",potential_improvements:"",progress:0,maturing_state:"",gdoc_url:"",image_url:"",url_slug:""}),createArticle:async o=>(o.progress=Number(o.progress),await g.post("/articles",o))}}const I={class:"flex"},C={class:"flex"},N=c({__name:"ArticleForm",props:{article:{}},emits:["change"],setup(d,{emit:r}){const o=d,l=(a,e)=>{let t={...o.article};t[a]=e,r("change",t)};return(a,e)=>(i(),m("div",null,[s(u,{label:"Titre",modelValue:a.article.title,"onUpdate:modelValue":e[0]||(e[0]=t=>l("title",t))},null,8,["modelValue"]),s(u,{class:"h-6",label:"Description",modelValue:a.article.description,"onUpdate:modelValue":e[1]||(e[1]=t=>l("description",t))},null,8,["modelValue"]),n("div",I,[s(A,{class:"mr-auto h-6",label:"Progression",modelValue:a.article.progress,"onUpdate:modelValue":e[2]||(e[2]=t=>l("progress",t))},null,8,["modelValue"]),s(u,{class:"h-6",label:"Stade d'écriture",modelValue:a.article.maturing_state,"onUpdate:modelValue":e[3]||(e[3]=t=>l("maturing_state",t))},null,8,["modelValue"])]),n("div",C,[s(u,{class:"h-6",label:"Lien Gdoc",modelValue:a.article.gdoc_url,"onUpdate:modelValue":e[4]||(e[4]=t=>l("gdoc_url",t))},null,8,["modelValue"]),s(u,{class:"h-6",label:"Lien image",modelValue:a.article.image_url,"onUpdate:modelValue":e[5]||(e[5]=t=>l("image_url",t))},null,8,["modelValue"]),s(u,{class:"h-6",label:"Suffix url",modelValue:a.article.url_slug,"onUpdate:modelValue":e[6]||(e[6]=t=>l("url_slug",t))},null,8,["modelValue"])]),s(V,{label:"Pistes d'amélioration",modelValue:a.article.potential_improvements,"onUpdate:modelValue":e[7]||(e[7]=t=>l("potential_improvements",t))},null,8,["modelValue"]),s(V,{class:"h-60",label:"Contenu",modelValue:a.article.content,"onUpdate:modelValue":e[8]||(e[8]=t=>l("content",t))},null,8,["modelValue"])]))}}),y={class:"max-w-xl mt-8 mx-auto border-2 p-4"},B=n("div",null,"Nouvel Article",-1),S={class:"flex"},P={__name:"WriteArticle",setup(d){const{newArticle:r,createArticle:o}=k(),l=r();return(a,e)=>(i(),m("div",null,[n("div",y,[B,s(N,{class:"w-full",article:p(l),onChange:e[0]||(e[0]=t=>l.value=t)},null,8,["article"]),n("div",S,[s(f,{onClick:e[1]||(e[1]=t=>p(o)(p(l))),text:"Valider",type:"valid",class:"ml-auto m-4"})])])]))}};export{P as default};
