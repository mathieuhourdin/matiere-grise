import{_ as v}from"./ActionButton.vue_vue_type_script_setup_true_lang-a9b68c0c.js";import{d as x,b as _,l as w,j as A,e as b,f as a,n as m,F as k,g as $,a as B,o,i as q,t as C,s as c,C as E}from"./index-b3501787.js";const N={class:"justify-items-center mx-auto flex flex-wrap max-w-full"},S={key:0,class:"ml-auto"},K={key:0,class:"absolute right-0 top-0 w-4 h-4 rounded-square text-2xs bg-green-400 text-center"},j=B("div",{class:"mr-auto"},null,-1),R=x({__name:"ToggleButtonGroup",props:{choices:{},default:{},urlKey:{},url:{type:Boolean,default:!1},center:{type:Boolean,default:!1}},emits:["update"],setup(p,{emit:d}){const n=p,l=_(null),y=w(),e=A(),t=r=>{if(d("update",r),l.value=r,n.url){const g=e.query,s=e.path,i=n.urlKey??"tab";console.log(i);const f={};f[i]=r;const h={...g,...f};y.push({path:s,query:h}),console.log(`route : ${JSON.stringify(e)}`)}};return b(()=>t(n.default??"")),(r,g)=>(o(),a("div",N,[r.center?(o(),a("div",S)):m("",!0),(o(!0),a(k,null,$(r.choices,s=>(o(),a("div",{class:"relative",key:s.value},[q(v,{class:"w-30 my-1 mx-1",text:s.text,onClick:i=>t(s.value),type:s.value==l.value?"valid":"abort"},null,8,["text","onClick","type"]),s.count?(o(),a("div",K,C(s.count),1)):m("",!0)]))),128)),j]))}}),{launchSnackbar:u}=E();function T(){return{newArticle:()=>_({title:"",subtitle:"",content:"",comment:"",maturing_state:"",publishing_state:"drft",external_content_url:"",image_url:"",resource_type:"oatc"}),getArticle:async e=>{try{return(await c.get("/articles/"+e)).data}catch(t){u(`Error getting article : ${t}`,"error")}},createArticle:async e=>{try{return(await c.post("/articles",e)).data}catch(t){u(`Error creating article : ${t}`,"error")}},updateArticle:async(e,t)=>{try{return await c.put("/thought_outputs/"+e,t)}catch(r){u(`Error updating article : ${r}`,"error")}},getArticles:async e=>{try{const t=`?author=${e.author}&drafts=${e.drafts}`;return(await c.get("/articles"+t)).data}catch(t){u(`Error getting articles : ${t}`,"error")}}}}export{R as _,T as u};
