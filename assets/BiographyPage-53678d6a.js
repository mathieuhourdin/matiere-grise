import{d as v,x as f,u as x,r as u,o as y,c as n,l as r,m as b,e as d,w as g,z as k,b as l,f as w,t as V,Q as B}from"./index-23800723.js";import{_ as U}from"./TextAreaInput.vue_vue_type_script_setup_true_lang-216125f6.js";const C={class:"min-h-screen text-slate-100 p-4 md:p-10 md:w-10/12 mx-auto"},E={class:"max-w-3xl"},T=r("h1",{class:"text-2xl font-bold mb-3"},"Ta biographie",-1),N=r("p",{class:"text-sm text-slate-400 mb-6"}," Écris une courte biographie pour présenter ton parcours et tes centres d'intérêt. ",-1),S=r("p",{class:"text-sm text-slate-400 mb-6"}," Tu peux raconter des éléments de ta vie perso ou pro, plus tu donnes d'éléments ici plus il sera facile de reconnaître des éléments dans tes carnets. ",-1),P={key:0,class:"text-sm text-slate-400"},$={key:1,class:"space-y-5"},j={class:"flex justify-end"},D=v({__name:"BiographyPage",setup(q){const p=f(),{user:e,loadUser:i,updateUser:m}=x(),{launchSnackbar:c}=B(),o=u(""),t=u(!1);y(async()=>{var s;e.value||await i(),o.value=((s=e.value)==null?void 0:s.biography)??""});const _=async()=>{var s;if(!t.value){if(!((s=e.value)!=null&&s.id)){c("Utilisateur non trouvé","error");return}t.value=!0;try{const a={...e.value,biography:o.value};await m(e.value.id,a),await i(),p.push("/me/home")}catch(a){console.error("Error updating biography:",a),c("Erreur lors de l'enregistrement","error")}finally{t.value=!1}}};return(s,a)=>(l(),n("div",C,[r("div",E,[T,N,S,b(e)?(l(),n("div",$,[d(U,{modelValue:o.value,"onUpdate:modelValue":a[0]||(a[0]=h=>o.value=h),label:"Biographie",placeholder:"Parle de ton parcours, ton style de travail et ce qui t'anime.",class:"h-72"},null,8,["modelValue"]),r("div",j,[d(k,{type:"valid",disabled:t.value,onClick:_},{default:g(()=>[w(V(t.value?"Enregistrement...":"Terminer"),1)]),_:1},8,["disabled"])])])):(l(),n("div",P,"Chargement..."))])]))}});export{D as default};
