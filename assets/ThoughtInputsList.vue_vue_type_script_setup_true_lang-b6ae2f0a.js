import{A as p,d as h,r as v,l as w,B as y,o as a,c,f as o,t as u,h as k,x as I,a as l,i as m,w as x,y as D,e as C,F as B,p as S,D as T}from"./index-e9cae668.js";function b(){return{resource_title:"",resource_author_name:"",resource_type:"",resource_link:"",resource_image_link:"",resource_comment:"",input_progress:0,input_date:new Date(Date.now()),input_comment:"",input_is_public:!0}}function _(t){return console.log("Date : ",t.input_date),t.input_date=new Date(t.input_date),t}async function N(){return(await p.get("/thought_inputs")).data.map(n=>_(n))}async function $(t){return(await p.get("/users/"+t+"/thought_inputs")).data.map(r=>_(r))}async function V(t){const n=new Date(t.input_date);console.log("Date : ",n);const r=n.toISOString().split(".")[0];t.input_progress=Number(t.input_progress);const s=await p.post("/thought_inputs",{...t,input_date:r});return _(s.data)}function H(){return{getUserThoughtInputs:$,newThoughtInput:b,createThoughtInput:V,getThoughtInputs:N}}const A={class:"border shadow-xl rounded m-2 p-4 w-96"},F={class:"flex"},L=["src"],U={class:"flex flex-wrap w-full",style:{"margin-top":"-8px"}},R={class:"text-2xs italic"},z={class:"ml-auto m-1 w-1/3"},E={class:"text-2xs"},M={class:"flex flex-wrap"},O={key:0,class:"text-2xs italic"},W=h({__name:"ThoughtInputCard",props:{thoughtInput:{}},setup(t){const n=t,{getUserById:r}=C(),s=v(null);w(async()=>s.value=await r(n.thoughtInput.input_user_id));const d=e=>e.toLocaleString("fr-FR",{hour:"numeric",weekday:"short",day:"numeric",month:"short",year:"2-digit"}),i=e=>e.length>200?e.slice(0,150)+"...":e;return(e,g)=>{const f=y("router-link");return a(),c("div",A,[o("div",F,[o("img",{class:"w-8 h-fit mr-4",src:e.thoughtInput.resource_image_link},null,8,L),o("div",null,[o("div",null,u(e.thoughtInput.resource_title),1),o("div",U,[o("div",R,u(e.thoughtInput.resource_author_name),1),o("div",z,[k(I,{"progress-value":e.thoughtInput.input_progress},null,8,["progress-value"])])]),o("div",E,u(i(e.thoughtInput.input_comment)),1)])]),o("div",M,[e.thoughtInput.input_date?(a(),c("div",O,u(d(e.thoughtInput.input_date)),1)):l("",!0),s.value?(a(),m(f,{key:1,to:"/users/"+s.value.id,class:"ml-auto text-2xs underline"},{default:x(()=>[D(u(s.value.first_name)+" "+u(s.value.last_name),1)]),_:1},8,["to"])):l("",!0)])])}}}),j={class:"relative"},q={key:0,class:"absolute md:border h-full start-1/2"},J=h({__name:"ThoughtInputsList",props:{thoughtInputs:{},center:{type:Boolean,default:!1}},emits:["select"],setup(t,{emit:n}){const r=s=>{console.log("Select"),n("select",s)};return(s,d)=>(a(),c("div",j,[s.center?l("",!0):(a(),c("div",q)),(a(!0),c(B,null,S(s.thoughtInputs,(i,e)=>(a(),m(W,{key:i.id,class:T(["mx-auto max-w-full",{"md:ml-0":e%2==0&&!s.center,"md:mr-0":!s.center}]),"thought-input":i,onClick:g=>r(i)},null,8,["class","thought-input","onClick"]))),128))]))}});export{J as _,H as u};
