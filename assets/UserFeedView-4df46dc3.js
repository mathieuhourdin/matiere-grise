import{d as V,o as d,c as f,f as o,t as c,r as i,h as a,_ as g,m as $,i as x,a as U,u as h,w as b,z as k,x as w,e as C}from"./index-c393c4f7.js";import{u as y,a as N,_ as T}from"./ModalSheet.vue_vue_type_script_setup_true_lang-c8eb484b.js";import{_ as s}from"./TextInput.vue_vue_type_script_setup_true_lang-afd22ee1.js";const B={class:"text-center p-4 bg-slate-200"},D={class:"text-2xl bold"},A=V({__name:"UserInfos",props:{user:{}},setup(p){return(u,n)=>(d(),f("div",B,[o("div",D,c(u.user.first_name)+" "+c(u.user.last_name),1),o("div",null,c(u.user.handle),1)]))}}),L=o("div",null,"Nouvel apport",-1),q={class:"flex flex-wrap"},z={class:"flex flex-wrap"},E={class:"flex flex-row-reverse"},F=V({__name:"CreateThoughtInput",emits:["close"],setup(p,{emit:u}){const{newThoughtInput:n,createThoughtInput:_}=y(),e=i(n()),r=()=>{_(e.value),m()},m=()=>u("close");return(v,t)=>(d(),f("div",null,[L,a(s,{label:"titre de l'ouvrage",modelValue:e.value.resource_title,"onUpdate:modelValue":t[0]||(t[0]=l=>e.value.resource_title=l)},null,8,["modelValue"]),o("div",q,[a(s,{class:"h-8 mx-auto",label:"Nom de l'auteur",modelValue:e.value.resource_author_name,"onUpdate:modelValue":t[1]||(t[1]=l=>e.value.resource_author_name=l)},null,8,["modelValue"]),a(s,{class:"h-8 mx-auto",label:"type de resource",modelValue:e.value.resource_type,"onUpdate:modelValue":t[2]||(t[2]=l=>e.value.resource_type=l)},null,8,["modelValue"])]),o("div",z,[a(s,{class:"h-8 mx-auto",label:"Lien de la ressource",modelValue:e.value.resource_link,"onUpdate:modelValue":t[3]||(t[3]=l=>e.value.resource_link=l)},null,8,["modelValue"]),a(s,{class:"h-8 mx-auto",label:"Lien de l'image",modelValue:e.value.resource_image_link,"onUpdate:modelValue":t[4]||(t[4]=l=>e.value.resource_image_link=l)},null,8,["modelValue"])]),a(s,{label:"Commentaire sur l'ouvrage",modelValue:e.value.resource_comment,"onUpdate:modelValue":t[5]||(t[5]=l=>e.value.resource_comment=l)},null,8,["modelValue"]),a(s,{label:"Avancement de l'ouvrage",modelValue:e.value.input_progress,"onUpdate:modelValue":t[6]||(t[6]=l=>e.value.input_progress=l),type:"number"},null,8,["modelValue"]),a(s,{label:"Date de lecture",modelValue:e.value.input_date,"onUpdate:modelValue":t[7]||(t[7]=l=>e.value.input_date=l),type:"date"},null,8,["modelValue"]),a(s,{label:"Pourquoi s'y être interessé ?",modelValue:e.value.input_comment,"onUpdate:modelValue":t[8]||(t[8]=l=>e.value.input_comment=l)},null,8,["modelValue"]),o("div",E,[a(g,{onClick:r,class:"m-4",text:"Valider",type:"valid"}),a(g,{onClick:m,class:"m-4",text:"Annuler",type:"abort"})])]))}}),M={class:"m-8"},P=o("div",{class:"text-center m-4 italic text-sm"},"Derniers apports extérieurs",-1),H=V({__name:"UserFeedView",props:{pageUserId:{}},setup(p){const u=p,n=i(!1),{getUserById:_,user:e}=C(),r=i(null),{getUserThoughtInputs:m}=y(),v=i([]);return $(async()=>{r.value=await _(u.pageUserId),v.value=await m(u.pageUserId)}),(t,l)=>(d(),f("div",null,[o("div",M,[r.value?(d(),x(A,{key:0,class:"mx-auto border my-8",user:r.value},null,8,["user"])):U("",!0),P,h(e)&&t.pageUserId==h(e).id?(d(),x(w,{key:1,class:"mx-auto md:mx-0",onClick:l[0]||(l[0]=I=>n.value=!0)},{default:b(()=>[k("+")]),_:1})):U("",!0),a(N,{open:n.value},{default:b(()=>[a(F,{onClose:l[1]||(l[1]=I=>n.value=!1)})]),_:1},8,["open"]),a(T,{class:"mx-auto","thought-inputs":v.value},null,8,["thought-inputs"])])]))}});export{H as default};
