import{_ as t,a as i}from"./ActionButton.vue_vue_type_script_setup_true_lang-7c1583c0.js";import{d as v,C as y,q as w,f as p,h as c,b as u,D as b,j as a,o as d,p as x,a as f,w as U}from"./index-e42b7ab3.js";import{_ as $}from"./CheckboxInput.vue_vue_type_script_setup_true_lang-f6406dc9.js";const k={class:"p-2 border h-fit shadow rounded"},C={class:"flex"},g=u("div",{class:"m-2"},"Connectez-vous",-1),N={class:"flex"},P=v({__name:"LoginForm",setup(V){const n=y(),{authUser:e}=w(),o=p(""),m=p(""),l=async()=>{console.log("Submit"),console.log(o.value),await e({username:o.value,password:m.value},n.query.redirectPath)};return(s,r)=>(d(),c("div",k,[u("div",C,[g,b(s.$slots,"default")]),a(t,{class:"m-2",label:"Username",modelValue:o.value,"onUpdate:modelValue":r[0]||(r[0]=_=>o.value=_)},null,8,["modelValue"]),a(t,{class:"m-2",type:"password",label:"Password",modelValue:m.value,"onUpdate:modelValue":r[1]||(r[1]=_=>m.value=_)},null,8,["modelValue"]),u("div",N,[a(i,{class:"ml-auto m-2",text:"Valider",type:"valid",onClick:l}),a(i,{class:"m-2",text:"Annuler",type:"abort",onClick:l})])]))}}),h={class:"w-2/5 h-fit border shadow rounded p-4"},z=u("div",{class:"m-2"},"Inscription",-1),B=["src"],q={class:"mt-2 flex"},S=v({__name:"SignInForm",setup(V){const{createNewUser:n}=w(),e=p({username:"",email:"",first_name:"",last_name:"",profile_picture_url:"",handle:"@",password:"",pseudonym:"",pseudonymized:!1}),o=async()=>{await n(e.value)};return(m,l)=>(d(),c("div",h,[z,a(t,{class:"mt-2",label:"Email*",modelValue:e.value.email,"onUpdate:modelValue":l[0]||(l[0]=s=>e.value.email=s)},null,8,["modelValue"]),a(t,{class:"mt-2",label:"Prénom",modelValue:e.value.first_name,"onUpdate:modelValue":l[1]||(l[1]=s=>e.value.first_name=s)},null,8,["modelValue"]),a(t,{class:"mt-2",label:"Nom",modelValue:e.value.last_name,"onUpdate:modelValue":l[2]||(l[2]=s=>e.value.last_name=s)},null,8,["modelValue"]),a(t,{class:"mt-2",label:"Photo de profil",modelValue:e.value.profile_picture_url,"onUpdate:modelValue":l[3]||(l[3]=s=>e.value.profile_picture_url=s)},null,8,["modelValue"]),e.value.profile_picture_url!=""?(d(),c("img",{key:0,class:"rounded mt-2 mx-auto",src:e.value.profile_picture_url},null,8,B)):x("",!0),a(t,{class:"mt-2",label:"Pseudo",modelValue:e.value.pseudonym,"onUpdate:modelValue":l[4]||(l[4]=s=>e.value.pseudonym=s)},null,8,["modelValue"]),a($,{class:"mt-2",modelValue:e.value.pseudonymized,"onUpdate:modelValue":l[5]||(l[5]=s=>e.value.pseudonymized=s),label:"Ne montrer que votre pseudo"},null,8,["modelValue"]),a(t,{class:"mt-2",label:"handle* (@comme_sur_insta)",modelValue:e.value.handle,"onUpdate:modelValue":l[6]||(l[6]=s=>e.value.handle=s)},null,8,["modelValue"]),a(t,{class:"mt-2",label:"Password*",modelValue:e.value.password,"onUpdate:modelValue":l[7]||(l[7]=s=>e.value.password=s),type:"password"},null,8,["modelValue"]),u("div",q,[a(i,{class:"ml-auto m-2",text:"Valider",type:"valid",onClick:o}),a(i,{class:"m-2",text:"Annuler",type:"abort",onClick:o})])]))}}),j={class:"mt-6 flex justify-center"},A={class:"ml-auto flex items-center"},L=v({__name:"LoginView",setup(V){const n=p(!1);return(e,o)=>(d(),c("div",j,[n.value?(d(),f(S,{key:1})):(d(),f(P,{key:0},{default:U(()=>[u("div",A,[u("div",{class:"text-xs underline p-2",onClick:o[0]||(o[0]=m=>n.value=!0)},"Créer un compte")])]),_:1}))]))}});export{L as default};
