import{_ as v}from"./ActionButton.vue_vue_type_script_setup_true_lang-849fb863.js";import{d as x,b as f,k as A,u as b,e as w,f as a,m as _,F as k,g as $,a as q,o,i as B,t as N,q as c,A as E}from"./index-8015efb4.js";const C={class:"justify-items-center mx-auto flex flex-wrap max-w-full"},S={key:0,class:"ml-auto"},K={key:0,class:"absolute right-0 top-0 w-4 h-4 rounded-square text-2xs bg-green-400 text-center"},F=q("div",{class:"mr-auto"},null,-1),T=x({__name:"ToggleButtonGroup",props:{choices:{},default:{},urlKey:{},url:{type:Boolean,default:!1},center:{type:Boolean,default:!1}},emits:["update"],setup(p,{emit:d}){const n=p,l=f(null),g=A(),t=b(),e=r=>{if(d("update",r),l.value=r,n.url){const y=t.query,s=t.path,i=n.urlKey??"tab";console.log(i);const m={};m[i]=r;const h={...y,...m};g.push({path:s,query:h}),console.log(`route : ${JSON.stringify(t)}`)}};return w(()=>e(n.default??"")),(r,y)=>(o(),a("div",C,[r.center?(o(),a("div",S)):_("",!0),(o(!0),a(k,null,$(r.choices,s=>(o(),a("div",{class:"relative",key:s.value},[B(v,{class:"w-30 my-1 mx-1",text:s.text,onClick:i=>e(s.value),type:s.value==l.value?"valid":"abort"},null,8,["text","onClick","type"]),s.count?(o(),a("div",K,N(s.count),1)):_("",!0)]))),128)),F]))}}),{launchSnackbar:u}=E();function j(){return{newArticle:()=>f({title:"",subtitle:"",content:"",comment:"",maturing_state:"",publishing_state:"drft",external_content_url:"",image_url:"",resource_type:"atcl"}),getArticle:async t=>{try{return(await c.get("/articles/"+t)).data}catch(e){u(`Error getting article : ${e}`,"error")}},createArticle:async t=>{try{return t.interaction_progress=Number(t.interaction_progress),(await c.post("/articles",t)).data}catch(e){u(`Error creating article : ${e}`,"error")}},updateArticle:async(t,e)=>{try{return e.interaction_progress=Number(e.interaction_progress),await c.put("/thought_outputs/"+t,e)}catch(r){u(`Error updating article : ${r}`,"error")}},getArticles:async t=>{try{const e=`?author=${t.author}&drafts=${t.drafts}`;return(await c.get("/articles"+e)).data}catch(e){u(`Error getting articles : ${e}`,"error")}}}}export{T as _,j as u};
