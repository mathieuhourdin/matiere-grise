import{A as d,d as _,r as m,l as g,B as y,o as u,c as i,t as l,a as p,f as n,h as k,x,i as f,w as I,y as C,e as b,F as D,p as B,C as S,q as $,z as T,g as N,D as V}from"./index-2eaf9e6b.js";function z(){return{resource_title:"",resource_author_name:"",resource_type:"",resource_link:"",resource_image_link:"",resource_comment:"",input_progress:0,input_date:new Date(Date.now()),input_comment:"",input_is_public:!0}}function h(e){return console.log("Date : ",e.input_date),e.input_date=new Date(e.input_date),e}async function A(){return(await d.get("/thought_inputs")).data.map(o=>h(o))}async function F(e){return(await d.get("/users/"+e+"/thought_inputs")).data.map(a=>h(a))}async function L(e){const o=new Date(e.input_date);console.log("Date : ",o);const a=o.toISOString().split(".")[0];e.input_progress=Number(e.input_progress);const t=await d.post("/thought_inputs",{...e,input_date:a});return h(t.data)}function Y(){return{getUserThoughtInputs:F,newThoughtInput:z,createThoughtInput:L,getThoughtInputs:A}}const M={class:"m-3 md:w-96"},R={key:0,class:"text-xs italic mb-2"},U={class:"border shadow-lg rounded p-4 md:w-96"},O={class:"flex"},q=["src"],E={class:"flex flex-wrap w-full",style:{"margin-top":"-8px"}},W={class:"text-2xs italic"},j={class:"ml-auto m-1 w-1/3"},G={class:"text-2xs"},H={class:"flex flex-wrap"},J={key:0,class:"text-2xs italic"},K=_({__name:"ThoughtInputCard",props:{thoughtInput:{}},setup(e){const o=e,{getUserById:a}=b(),t=m(null);g(async()=>t.value=await a(o.thoughtInput.input_user_id));const c=s=>s.toLocaleString("fr-FR",{hour:"numeric",weekday:"short",day:"numeric",month:"short",year:"2-digit"}),r=s=>s.length>200?s.slice(0,150)+"...":s;return(s,v)=>{const w=y("router-link");return u(),i("div",M,[s.thoughtInput.usage_reason?(u(),i("div",R,l(s.thoughtInput.usage_reason),1)):p("",!0),n("div",U,[n("div",O,[n("img",{class:"w-8 h-fit mr-4",src:s.thoughtInput.resource_image_link},null,8,q),n("div",null,[n("div",null,l(s.thoughtInput.resource_title),1),n("div",E,[n("div",W,l(s.thoughtInput.resource_author_name),1),n("div",j,[k(x,{"progress-value":s.thoughtInput.input_progress},null,8,["progress-value"])])]),n("div",G,l(r(s.thoughtInput.input_comment)),1)])]),n("div",H,[s.thoughtInput.input_date?(u(),i("div",J,l(c(s.thoughtInput.input_date)),1)):p("",!0),t.value?(u(),f(w,{key:1,to:"/users/"+t.value.id,class:"ml-auto text-2xs underline"},{default:I(()=>[C(l(t.value.first_name)+" "+l(t.value.last_name),1)]),_:1},8,["to"])):p("",!0)])])])}}}),P={class:"relative max-w-full"},Q={key:0,class:"absolute md:border h-full start-1/2"},Z=_({__name:"ThoughtInputsList",props:{thoughtInputs:{},center:{type:Boolean,default:!1}},emits:["select"],setup(e,{emit:o}){const a=t=>{console.log("Select"),o("select",t)};return(t,c)=>(u(),i("div",P,[t.center?p("",!0):(u(),i("div",Q)),(u(!0),i(D,null,B(t.thoughtInputs,(r,s)=>(u(),f(K,{key:r.id,class:S(["mx-auto max-w-full",{"md:ml-0":s%2==0&&!t.center,"md:mr-0":!t.center}]),"thought-input":r,onClick:v=>a(r)},null,8,["class","thought-input","onClick"]))),128))]))}}),ee=_({__name:"ModalSheet",props:{open:{type:Boolean,default:!1}},emits:["close"],setup(e,{emit:o}){const a=e,t=m(!1);return g(()=>t.value=a.open),$(T(a).open,c=>t.value=c),(c,r)=>t.value?(u(),i("div",{key:0,class:"fixed top-0 left-0 w-full h-full z-10 bg-slate-500/50",onClick:r[1]||(r[1]=s=>o("close"))},[n("div",{class:"max-w-xl overflow-y-scroll max-h-screen mb-10 bg-white mx-auto mt-6 p-4 rounded shadow",onClick:r[0]||(r[0]=V(()=>{},["stop"]))},[N(c.$slots,"default")])])):p("",!0)}});export{Z as _,ee as a,Y as u};
