import{_}from"./TextInterface.vue_vue_type_script_setup_true_lang-676037a3.js";import{d as m,r as g,n as f,j as v,c as d,f as s,t as a,a as x,h as l,x as b,e as I,o as h,A as i}from"./index-80c66211.js";const y=["src"],w={class:"text-3xl my-3 font-mplus md:text-center text-left"},k={class:"text-center"},D={class:"md:text-center text-left"},T={key:0},B={class:"md:flex my-8"},N=["href"],S=s("hr",{class:"border-top border-zinc-400 my-4"},null,-1),U=s("div",{class:"text-xs"},"Description de l'oeuvre",-1),z=s("hr",{class:"border-top border-zinc-400 my-4"},null,-1),A=s("div",{class:"text-xs"},"Pourquoi la lire",-1),P=m({__name:"SeeThoughtInput",props:{thoughtInput:{}},setup(t){const e=t,{getUserById:o,user:r}=I(),u=g(null),p=f(()=>r.value?e.thoughtInput.input_user_id===r.value.id:!1);return v(async()=>{e.thoughtInput.input_user_id&&(u.value=await o(e.thoughtInput.input_user_id))}),(n,E)=>(h(),d("div",null,[s("div",null,[s("img",{src:n.thoughtInput.resource_image_link,class:"border border-slate-300 dark:border-zinc-700 rounded-xl ml-auto mr-auto",style:{"max-height":"10rem"}},null,8,y)]),s("h1",w,a(n.thoughtInput.resource_title),1),s("div",k,[s("span",D,a(n.thoughtInput.resource_author_name),1),u.value?(h(),d("span",T," lu par "+a(u.value.first_name)+" "+a(u.value.last_name),1)):x("",!0)]),s("div",B,[l(b,{"progress-value":n.thoughtInput.input_progress,class:"m-2 w-1/3"},null,8,["progress-value"]),s("a",{class:"ml-auto underline",href:n.thoughtInput.resource_link}," ressource externe",8,N)]),S,U,l(_,{class:"border text-sm","full-text":n.thoughtInput.resource_comment,editable:p.value},null,8,["full-text","editable"]),z,A,l(_,{class:"border text-sm","full-text":n.thoughtInput.input_comment,editable:p.value},null,8,["full-text","editable"])]))}});function V(){return{resource_title:"",resource_author_name:"",resource_type:"",resource_link:"",resource_image_link:"",resource_comment:"",input_progress:0,input_date:new Date(Date.now()),input_comment:"",input_is_public:!0}}function c(t){return console.log("Date : ",t.input_date),t.input_date=new Date(t.input_date),t}async function C(){return(await i.get("/thought_inputs")).data.map(e=>c(e))}async function $(t){const e=await i.get("/thought_inputs/"+t);return c(e.data)}async function j(t){return(await i.get("/users/"+t+"/thought_inputs")).data.map(o=>c(o))}async function q(t){const e=new Date(t.input_date);console.log("Date : ",e);const o=e.toISOString().split(".")[0];t.input_progress=Number(t.input_progress);const r=await i.post("/thought_inputs",{...t,input_date:o});return c(r.data)}function R(){return{getUserThoughtInputs:j,newThoughtInput:V,createThoughtInput:q,getThoughtInputs:C,getThoughtInput:$}}export{P as _,R as u};
