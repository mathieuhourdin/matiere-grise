import{H as he,d as pe}from"./index-f6d76841.js";import{d as T,j as C,J as ae,b as o,c,E as Y,h as J,C as _e,k as w,l as s,p as E,F,g as Z,t as L,u as H,r as h,y as O,K as N,L as ee,x as te,o as X,e as x,w as $,f as D,v as se,D as fe,M as ve,N as ge,O as ne,s as oe,P as be,H as re,Q as le,m as g,n as xe,a as ye,z as ke,S as we,U as $e}from"./index-67386673.js";import{_ as Q}from"./TextInput.vue_vue_type_script_setup_true_lang-404454f8.js";import{u as Ce}from"./useResourceRelations-22334af8.js";import"./WrenchIcon-29142a75.js";import"./PaperAirplaneIcon-e301c639.js";import"./ClipboardIcon-0f43ed5d.js";const Le={key:0,class:"flex items-center mb-2"},je={key:0,class:"ml-auto"},Me=["title","onClick"],De={class:"text-xs md:text-sm"},Te={key:0,class:"text-2xs ml-1 text-slate-500 dark:text-gray-400"},M=T({__name:"HomeCard",props:{actionIcon:{},showAction:{type:Boolean,default:!1},width:{default:"auto"},height:{default:"auto"},padding:{default:"md"},contentClass:{default:""},scrollable:{type:Boolean,default:!0},items:{},showDate:{type:Boolean,default:!1},itemClass:{default:""},listClass:{default:"list-disc list-inside"},lineHeight:{default:"normal"}},emits:["action","itemClick"],setup(t){const e=t,r=C(()=>e.width==="auto"?"":e.width==="full"?"w-full":e.width==="1/3"?"md:w-1/3 w-3/5":e.width==="2/5"?"md:w-2/5 w-full":e.width==="3/5"?"md:w-3/5 w-full":e.width==="30%"?"md:w-[30%] w-3/5":""),u=C(()=>e.height==="auto"?"":e.height==="36"?"h-36 md:h-40":e.height==="40"?"h-40 md:h-40":e.height==="44"?"h-44 md:h-60":e.height==="60"?"h-60 md:h-60":""),_=C(()=>e.padding==="sm"?"p-3":e.padding==="md"?"pt-4 p-3 md:p-4":e.padding==="lg"?"p-4 md:p-6":""),m=C(()=>e.actionIcon?e.actionIcon==="AddIcon"?ae:he[e.actionIcon]||null:null),p=C(()=>{if(e.itemClass&&e.itemClass.includes("leading-"))return"";if(e.showDate)return"leading-4 md:leading-5";switch(e.lineHeight){case"none":return"leading-none";case"tight":return"leading-tight";case"normal":return"leading-normal";case"relaxed":return"leading-relaxed";case"loose":return"leading-loose";default:return"leading-normal"}}),f=a=>a?(typeof a=="string"?new Date(a):a).toLocaleDateString():"";return(a,v)=>(o(),c("div",{class:E(["flex-shrink-0 rounded-2xl border border-slate-800 dark:border-gray-700 bg-slate-900/60 dark:bg-elevated backdrop-blur-sm transition-colors duration-200 overflow-auto",_.value,r.value,u.value])},[a.$slots.header||a.showAction?(o(),c("div",Le,[Y(a.$slots,"header"),a.showAction?(o(),c("div",je,[Y(a.$slots,"action",{},()=>[m.value?(o(),c("button",{key:0,onClick:v[0]||(v[0]=d=>a.$emit("action")),class:"hover:opacity-70 transition-opacity"},[(o(),J(_e(m.value),{class:"w-8 h-8"}))])):w("",!0)])])):w("",!0)])):w("",!0),s("div",{class:E(a.contentClass)},[a.items&&a.items.length>0?(o(),c("ul",{key:0,class:E(a.listClass)},[(o(!0),c(F,null,Z(a.items,(d,n)=>(o(),c("li",{key:d.id||d.title||n,class:E([a.itemClass,p.value]),title:d.content,onClick:y=>a.$emit("itemClick",d)},[s("span",De,L(d.title),1),a.showDate&&d.date?(o(),c("span",Te,L(f(d.date)),1)):w("",!0)],10,Me))),128))],2)):Y(a.$slots,"default",{key:1})],2)],2))}}),{launchSnackbar:V}=ee(),{user:R}=H(),I=h([]),B=h(null),P=h(null),U=h(null),z=h([]),K=h(!1),G=h(!1),W=h(!1);async function Se(){var t;if(console.log("[useLens] loadUserLenses called, user:",R.value),!((t=R.value)!=null&&t.id)){console.warn("[useLens] User not found, skipping loadUserLenses");return}K.value=!0;try{console.log("[useLens] Fetching lenses for user:",R.value.id);const e=await N.get(`/users/${R.value.id}/lens`);if(I.value=e.data,console.log("[useLens] Lenses loaded:",I.value),I.value.length>0){const r=[...I.value].sort((u,_)=>{const m=new Date(u.updated_at||u.created_at||0).getTime();return new Date(_.updated_at||_.created_at||0).getTime()-m});console.log("[useLens] Auto-selecting most recently updated lens:",r[0]),ce(r[0])}}catch(e){console.error("Error loading lenses:",e),V(`Error loading lenses: ${e}`,"error")}finally{K.value=!1}}async function ie(t){G.value=!0;try{const e=await N.get(`/analysis/${t}`);return U.value=e.data,e.data}catch(e){console.error("Error fetching landmark analysis:",e),V(`Error fetching landmark analysis: ${e}`,"error"),U.value=null}finally{G.value=!1}}function ce(t){B.value=t}async function Ae(t){var e;try{await N.delete(`/lens/${t}`),I.value=I.value.filter(r=>r.id!==t),((e=B.value)==null?void 0:e.id)===t&&(B.value=null),V("Lens supprimÃ©e","success")}catch(r){console.error("Error deleting lens:",r),V(`Erreur lors de la suppression: ${r}`,"error")}}O(B,t=>{console.log("[useLens] currentLens changed:",t),t&&t.current_landscape_id?(console.log("[useLens] Setting currentLandscapeAnalysisId to:",t.current_landscape_id),P.value=t.current_landscape_id):(console.log("[useLens] No current_landscape_id, clearing state"),P.value=null,U.value=null)});O(P,async t=>{console.log("[useLens] currentLandscapeAnalysisId changed:",t),t?await ie(t):U.value=null});async function ue(t){W.value=!0;try{const e=await N.get(`/analysis/${t}/landmarks`);return z.value=e.data,e.data}catch(e){console.error("Error fetching landmarks:",e),V(`Error fetching landmarks: ${e}`,"error"),z.value=[]}finally{W.value=!1}}O(U,async t=>{console.log("[useLens] currentLandscapeAnalysis changed:",t),t!=null&&t.id?(console.log("[useLens] Fetching landmarks for analysis:",t.id),await ue(t.id)):z.value=[]});function de(){return{lenses:I,currentLens:B,currentLandscapeAnalysisId:P,currentLandscapeAnalysis:U,currentLandmarks:z,isLoadingLenses:K,isLoadingAnalysis:G,isLoadingLandmarks:W,loadUserLenses:Se,selectLens:ce,deleteLens:Ae,fetchLandscapeAnalysis:ie,fetchLandmarksForAnalysis:ue}}const qe={class:"flex gap-2 md:gap-8 overflow-x-auto pb-2"},Ee=s("h2",{class:"flex items-center text-xs md:text-base font-bold"},[s("span",{class:"mr-2"},"ðŸ‘‘"),D(" Analysis ")],-1),Ie=s("h2",{class:"flex items-center text-xs md:text-base font-bold"},[s("span",{class:"mr-2"},"ðŸŒ"),D(" Resources ")],-1),Je=s("h2",{class:"flex items-center text-xs md:text-base font-bold"},[s("span",{class:"mr-2"},"ðŸ‘‘"),D(" Tasks ")],-1),Ue=s("h2",{class:"flex items-center text-xs md:text-base font-bold"},[s("span",{class:"mr-2"},"ðŸ§‘â€ðŸ’»"),D(" Questions ")],-1),Ve=s("h2",{class:"flex items-center text-xs md:text-base font-bold"},[s("span",{class:"mr-2"},"ðŸ‘‘"),D(" Deliverables ")],-1),Be=s("h2",{class:"flex items-center text-xs md:text-base font-bold"},[s("span",{class:"mr-2"},"ðŸ§‘â€ðŸ’»"),D(" Processes ")],-1),He=T({__name:"AnalysisSection",setup(t){const{user:e,deleteAnalysis:r,getUserLandmarks:u}=H(),{getInteractions:_}=se(),{currentLandmarks:m,loadUserLenses:p}=de(),f=te(),a=h({analysis:[],tasks:[],questions:[],resources:[],deliverables:[],processes:[]});h([]);const v=async()=>{var i;if((i=e.value)!=null&&i.id)try{const l=await _({interaction_type:"outp",interaction_user_id:e.value.id,resource_type:"anly"}),j=await u(e.value.id);console.log("landmarks : ",j),j.value=j,a.value={analysis:d(l),tasks:n(j.filter(S=>S.landmark_type==="task")),questions:n(j.filter(S=>S.landmark_type==="qest")),resources:n(j.filter(S=>S.landmark_type==="rsrc")),deliverables:n(j.filter(S=>S.landmark_type==="dlvr")),processes:n(j.filter(S=>S.landmark_type==="proc"))}}catch(l){console.error("Error loading analysis:",l)}},d=i=>i.map(l=>({title:l.resource.title,content:l.resource.id+" - "+l.resource.subtitle+" - "+l.resource.content,date:l.interaction_date,id:l.resource.id})),n=i=>i.map(l=>({title:l.title,content:l.id+" - "+l.subtitle+" - "+l.content,date:l.created_at||new Date,id:l.id,resource_type:l.resource_type})),y=i=>i.map(l=>({title:l.title||"",content:l.id+" - "+(l.content||""),date:l.created_at||new Date,id:l.id})),b=C(()=>y(m.value.filter(i=>i.landmark_type==="task"))),k=C(()=>y(m.value.filter(i=>i.landmark_type==="rsrc"))),q=i=>{i.id&&f.push("/me/analysis/"+i.id)},A=i=>{i.id&&f.push("/app/landmarks/"+i.id)};return X(async()=>{await v(),await p()}),(i,l)=>(o(),c("div",qe,[x(M,{width:"30%",height:"36",items:a.value.analysis,onItemClick:q},{header:$(()=>[Ee]),_:1},8,["items"]),x(M,{width:"30%",height:"36",items:k.value,onItemClick:A},{header:$(()=>[Ie]),_:1},8,["items"]),x(M,{width:"30%",height:"36",items:b.value},{header:$(()=>[Je]),_:1},8,["items"]),x(M,{width:"30%",height:"36",items:a.value.questions},{header:$(()=>[Ue]),_:1},8,["items"]),x(M,{width:"30%",height:"36",items:a.value.deliverables},{header:$(()=>[Ve]),_:1},8,["items"]),x(M,{width:"30%",height:"36",items:a.value.processes},{header:$(()=>[Be]),_:1},8,["items"])]))}}),Re={class:"md:p-6 mx-auto"},Fe=s("div",{class:"mb-6"},[s("h2",{class:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-2"}," CrÃ©er un nouveau journal ")],-1),Pe={class:"mb-4"},ze={class:"mb-4"},Oe={class:"mb-6"},Ne=s("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Contenu ",-1),Xe={class:"flex space-x-3 pt-4 border-t border-gray-200 dark:border-gray-700"},Ye=["disabled"],Qe=["disabled"],Ke={key:0,class:"flex items-center justify-center space-x-2"},Ge=s("span",{class:"animate-spin"},"â³",-1),We=s("span",null,"CrÃ©ation en cours...",-1),Ze=[Ge,We],et={key:1,class:"flex items-center justify-center space-x-2"},tt=s("span",null,"âœ¨",-1),st=s("span",null,"CrÃ©er le journal",-1),at=[tt,st],nt=T({__name:"CreateJournalContent",props:{showCancel:{type:Boolean}},emits:["close","created"],setup(t,{emit:e}){const r=te(),{createResource:u}=oe(),{createInteractionForResource:_}=se(),{user:m}=H(),{launchSnackbar:p}=ee(),f=h(""),a=h(""),v=h(""),d=h(!1),n=h(""),y=C(()=>n.value.includes("succÃ¨s")||n.value.includes("crÃ©Ã©")?"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 border border-green-200 dark:border-green-700":n.value.includes("Erreur")||n.value.includes("erreur")?"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200 border border-red-200 dark:border-red-700":"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 border border-blue-200 dark:border-blue-700"),b=()=>{f.value="",a.value="",v.value="",n.value=""},k=()=>{b(),e("close")},q=async()=>{var A;if(!f.value.trim()){p("Veuillez entrer un titre","error");return}d.value=!0,n.value="CrÃ©ation du journal...";try{const i={title:f.value.trim(),subtitle:a.value.trim(),content:v.value.trim(),external_content_url:"",comment:"",image_url:"",maturing_state:"drft",publishing_state:"",resource_type:"jrnl",is_local_draft:!1},l=await u(i),j={interaction_user_id:(A=m.value)==null?void 0:A.id,resource_id:l.id,interaction_progress:0,interaction_date:new Date,interaction_comment:"",interaction_is_public:!1};await _(l.id,j),n.value="Journal crÃ©Ã© avec succÃ¨s!",p("Journal crÃ©Ã© avec succÃ¨s!","success"),setTimeout(()=>{b(),e("created",l.id),r.push(`/app/resources/${l.id}`)},1500)}catch(i){console.error("Erreur lors de la crÃ©ation:",i),n.value=`Erreur: ${i instanceof Error?i.message:"Erreur inconnue"}`,p("Erreur lors de la crÃ©ation du journal","error")}finally{d.value=!1}};return(A,i)=>(o(),c("div",Re,[Fe,s("div",Pe,[x(Q,{modelValue:f.value,"onUpdate:modelValue":i[0]||(i[0]=l=>f.value=l),label:"Titre",placeholder:"Entrez le titre du journal...",class:"w-full"},null,8,["modelValue"])]),s("div",ze,[x(Q,{modelValue:a.value,"onUpdate:modelValue":i[1]||(i[1]=l=>a.value=l),label:"Sous-titre",placeholder:"Entrez le sous-titre du journal...",class:"w-full"},null,8,["modelValue"])]),s("div",Oe,[Ne,fe(s("textarea",{"onUpdate:modelValue":i[2]||(i[2]=l=>v.value=l),placeholder:"Ã‰crivez le contenu de votre journal ici...",class:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 bg-white dark:bg-elevated text-gray-900 dark:text-gray-100 transition-all duration-200 resize-none",rows:"10",onKeydown:i[3]||(i[3]=ge(ne(()=>{},["stop"]),["enter"]))},null,544),[[ve,v.value]])]),s("div",Xe,[A.showCancel?(o(),c("button",{key:0,onClick:k,disabled:d.value,class:"flex-1 px-4 py-3 rounded-lg font-medium transition-colors duration-200 bg-white dark:bg-elevated hover:bg-gray-100 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-600"}," Annuler ",8,Ye)):w("",!0),s("button",{onClick:q,disabled:d.value||!f.value.trim(),class:E(["flex-1 px-4 py-3 rounded-lg font-medium transition-all duration-200 shadow-md hover:shadow-lg",d.value||!f.value.trim()?"bg-gray-400 dark:bg-gray-600 cursor-not-allowed text-white":"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white"])},[d.value?(o(),c("span",Ke,Ze)):(o(),c("span",et,at))],10,Qe)]),n.value?(o(),c("div",{key:0,class:E(["mt-4 p-3 rounded-lg",y.value])},L(n.value),3)):w("",!0)]))}}),ot=T({__name:"CreateJournalModal",props:{open:{type:Boolean}},emits:["close","created"],setup(t,{emit:e}){const r=t,u=h(!1);O(()=>r.open,p=>{u.value=p});const _=()=>{u.value=!1,e("close")},m=p=>{e("created",p),_()};return(p,f)=>(o(),J(be,{open:u.value,onClose:_,"max-width":"max-w-4xl","max-height":"h-[90%]"},{default:$(()=>[x(nt,{"show-cancel":!0,onClose:_,onCreated:m})]),_:1},8,["open"]))}}),{user:rt}=H(),{getInteractions:lt}=se(),me=h([]),it=h(null),ct=h(null),ut=async()=>{var e;const t=await lt({interaction_type:"outp",interaction_user_id:(e=rt.value)==null?void 0:e.id,resource_type:"jrnl"});me.value=t};function dt(){return{loadUserJournal:ut,userJournals:me,userLogLecture:it,userLogProduction:ct}}const mt={},ht={viewBox:"0 0 24 24",class:"h-4 w-4 text-emerald-400",fill:"none",xmlns:"http://www.w3.org/2000/svg"},pt=s("path",{d:"M4 18H20",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-opacity":"0.4"},null,-1),_t=s("path",{d:"M5 15L10 10L13 13L19 7",stroke:"currentColor","stroke-width":"1.7","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),ft=s("path",{d:"M14.5 7H19V11.5",stroke:"currentColor","stroke-width":"1.7","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),vt=[pt,_t,ft];function gt(t,e){return o(),c("svg",ht,vt)}const bt=re(mt,[["render",gt]]),xt={viewBox:"0 0 24 24",class:"h-4 w-4 text-red-400",fill:"none",xmlns:"http://www.w3.org/2000/svg"},yt=s("path",{d:"M4 6H20",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-opacity":"0.4"},null,-1),kt=s("path",{d:"M5 9L10 14L13 11L19 17",stroke:"currentColor","stroke-width":"1.7","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),wt=s("path",{d:"M14.5 17H19V12.5",stroke:"currentColor","stroke-width":"1.7","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),$t=[yt,kt,wt],Ct=T({__name:"TrendDownIcon",props:{size:{}},setup(t){const e=t;return C(()=>e.size||"16"),(r,u)=>(o(),c("svg",xt,$t))}}),Lt=T({__name:"JournalCard",props:{journal:{}},setup(t){const e=t,{getResource:r}=oe(),{getAllRelationsForResource:u}=Ce(),{openModal:_}=le(),m=te(),p=h([]),f=h(!1),a=async()=>{const y=await r(e.journal.resource_id),b=await u(y.id);p.value=b.map(k=>({title:k.origin_resource.title,content:k.origin_resource.subtitle,date:k.origin_resource.created_at}))},v=()=>{m.push("/me/resources/"+e.journal.resource_id+"/feed")},d=()=>{e.journal.resource_id&&_(e.journal.resource_id)},n=C(()=>p.value.length>0?new Date(p.value[0].date).getTime()>new Date(Date.now()-2*24*60*60*1e3).getTime():!1);return X(async()=>{await a(),f.value=!0}),(y,b)=>(o(),J(M,{"content-class":"overflow-scroll h-full",width:"30%",height:"40","list-class":"list-disc list-inside h-full overflow-scroll",items:p.value,"show-date":!0,"item-class":"leading-4","line-height":"none","show-action":!0,"action-icon":"AddIcon",onAction:d},{header:$(()=>{var k;return[s("h2",{onClick:v,class:"flex items-center text-xs md:text-base font-bold"},[D(L((k=y.journal.resource)==null?void 0:k.title)+" ",1),f.value&&n.value?(o(),J(bt,{key:0,class:"w-8 h-8 ml-2"})):w("",!0),f.value&&!n.value?(o(),J(Ct,{key:1,class:"w-8 h-8 ml-2"})):w("",!0)])]}),_:1},8,["items"]))}}),jt={class:"flex gap-4 overflow-x-auto pb-2"},Mt=s("h2",{class:"flex items-center text-xs md:text-base font-bold text-slate-300 dark:text-gray-400"}," Nouveau Journal ",-1),Dt=T({__name:"JournalSection",setup(t){le();const{userJournals:e,loadUserJournal:r}=dt(),u=h(!1),_=()=>{u.value=!0},m=()=>{u.value=!1},p=f=>{};return X(async()=>{await r()}),(f,a)=>(o(),c(F,null,[s("div",jt,[(o(!0),c(F,null,Z(g(e),v=>(o(),J(Lt,{key:v.id,journal:v},null,8,["journal"]))),128)),x(M,{width:"30%",height:"40","content-class":"mt-4",class:"cursor-pointer hover:opacity-80 transition-opacity",onClick:_},{header:$(()=>[Mt]),default:$(()=>[x(ae,{class:"w-8 h-8 ml-2 mx-auto my-auto text-slate-300 dark:text-gray-400"})]),_:1})]),x(ot,{open:u.value,onClose:m,onCreated:p},null,8,["open"])],64))}}),Tt={class:"flex gap-3 overflow-x-auto pb-2 mb-4"},St=["onClick"],At=["onClick"],qt={class:"text-sm font-medium"},Et={class:"text-xs text-slate-500 mt-1"},It={key:0,class:"flex-shrink-0 px-4 py-3 rounded-xl border border-dashed border-slate-700 text-slate-500 text-sm"},Jt={key:1,class:"flex-shrink-0 px-4 py-3 text-slate-500 text-sm"},Ut={key:0,class:"mt-4"},Vt={key:0,class:"text-slate-500 text-sm"},Bt={key:1,class:"rounded-2xl border border-slate-800 bg-slate-900/60 p-4"},Ht={class:"text-lg font-bold text-slate-200 mb-2"},Rt={key:0,class:"text-sm text-slate-400 whitespace-pre-line"},Ft={key:1,class:"text-sm text-slate-300 mt-2 whitespace-pre-line"},Pt={key:2,class:"text-slate-500 text-sm"},zt=T({__name:"LensSection",setup(t){const{lenses:e,currentLens:r,currentLandscapeAnalysis:u,isLoadingLenses:_,isLoadingAnalysis:m,loadUserLenses:p,selectLens:f,deleteLens:a}=de(),v=C(()=>[...e.value].sort((n,y)=>{const b=new Date(n.created_at||0).getTime();return new Date(y.created_at||0).getTime()-b})),d=n=>n?(typeof n=="string"?new Date(n):n).toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"";return X(async()=>{await p()}),(n,y)=>(o(),c("div",null,[s("div",Tt,[(o(!0),c(F,null,Z(v.value,b=>{var k;return o(),c("div",{key:b.id,onClick:q=>g(f)(b),class:E(["relative flex-shrink-0 px-4 py-3 pr-8 rounded-xl border cursor-pointer transition-all duration-200",((k=g(r))==null?void 0:k.id)===b.id?"border-blue-500 bg-blue-500/20 text-blue-300":"border-slate-700 bg-slate-900/60 hover:border-slate-500 text-slate-300"])},[s("button",{onClick:ne(q=>g(a)(b.id),["stop"]),class:"absolute top-2 right-2 p-0.5 rounded hover:bg-red-500/20 text-slate-500 hover:text-red-400 transition-colors",title:"Supprimer cette lens"},[x(g(pe),{class:"w-4 h-4"})],8,At),s("div",qt,L(b.title||"Lens "+b.id.slice(0,8)),1),s("div",Et,L(d(b.created_at)),1)],10,St)}),128)),!g(_)&&v.value.length===0?(o(),c("div",It," Aucune lens disponible ")):w("",!0),g(_)?(o(),c("div",Jt," Chargement... ")):w("",!0)]),g(r)?(o(),c("div",Ut,[g(m)?(o(),c("div",Vt," Chargement de l'analyse... ")):g(u)?(o(),c("div",Bt,[s("h3",Ht,L(g(u).title||"Analyse"),1),g(u).context?(o(),c("div",Rt,L(typeof g(u).context=="string"?g(u).context:JSON.stringify(g(u).context,null,2)),1)):w("",!0),g(u).content?(o(),c("div",Ft,L(g(u).content),1)):w("",!0)])):g(r).current_landscape_id?w("",!0):(o(),c("div",Pt," Cette lens n'a pas encore d'analyse associÃ©e. "))])):w("",!0)]))}}),Ot={class:"flex gap-4 pb-2 relative"},Nt={key:0,class:"text-sm font-bold mb-2"},Xt={class:"flex flex-col md:flex-row gap-2 md:gap-0 items-start"},Yt={class:"text-xs md:text-sm overflow-auto flex-1 whitespace-pre-line"},Qt=["src"],Kt=["src"],Gt=T({__name:"MentorSection",setup(t){const{isMobile:e}=xe(),r=h(0),u=()=>{r.value>0&&r.value--},_=h(0),m=h(0),p=n=>{e.value&&(_.value=n.touches[0].clientX,m.value=n.touches[0].clientY)},f=n=>{if(!e.value)return;const y=Math.abs(n.touches[0].clientX-_.value),b=Math.abs(n.touches[0].clientY-m.value);y>b&&y>10&&n.preventDefault()},a=n=>{if(!e.value)return;const y=n.changedTouches[0].clientX,b=n.changedTouches[0].clientY,k=y-_.value,q=b-m.value,A=50;Math.abs(k)>Math.abs(q)&&Math.abs(k)>A&&(k>0&&r.value>0?u():k<0&&r.value<d.value.length-1&&v())},v=()=>{r.value=(r.value+1)%d.value.length},d=h([{name:"Gon",image:"https://i.pinimg.com/originals/93/d7/e8/93d7e8cb60b17a0d12ac40e26f71064e.jpg",messages:[`Franchement, vu d'ici, on dirait que tu es en plein arc d'entraÃ®nement avant un Ã©norme examen de Hunter. Tu ne fais plus juste des "petites quÃªtes" sÃ©parÃ©es : tu t'es trouvÃ© un vrai boss final â€“ les survivances souterraines de la citÃ© industrielle â€“ et tu tapes dessus tous les jours, sous plein d'angles diffÃ©rents. Tu lis Grove, Salman, B&C, ThÃ©venot, Elster, tu fais des fiches, tu formules des hypothÃ¨ses, tu Ã©cris Ã  ton encadrantâ€¦ Tu ne fais pas que comprendre, tu commences Ã  inventer ton propre Hatsu, avec ton style : "culture de l'exÃ©cution", "plan pour le client mais pas pour la production", "citÃ© industrielle souterraine" â€“ Ã§a j'adore, parce que Ã§a ressemble vraiment Ã  une technique qui n'appartient qu'Ã  toi.

`,`La seule chose que je te dirais en coach, c'est de choisir clairement quelques "boss" prÃ©cis, du genre : oÃ¹ l'exÃ©cution survit-elle dans des mondes officiellement en mode projet ? comment certains espaces gardent la citÃ© industrielle quand d'autres se liquÃ©fient ? Si tu gardes 2â€“3 questions comme Ã§a en tÃªte, chaque fiche devient un coup portÃ© dans la bonne direction, pas juste de l'entraÃ®nement dans le vide. Et fais un peu gaffe Ã  ton aura : tu pousses trÃ¨s fort, donc accepte que certaines choses restent brutes, incomplÃ¨tes, ce n'est pas grave. Dans un manga, tu es au moment oÃ¹ le perso a accumulÃ© plein de puissance sans que tout soit rangÃ©, et on sent que bientÃ´t tu vas commencer Ã  t'en servir pour de vrai dans un gros combat â€“ Ã§a, vraiment, j'ai hÃ¢te de voir la suite.`]},{name:"Steve Jobs",image:"https://histoiredintuition.com/wp-content/uploads/2021/08/ob_bf693f_stevejobscloseup.jpg",messages:["Tu as des phases trÃ¨s solides oÃ¹ tu avances vite et tu fermes des boucles (livrables, rÃ©solution de problÃ¨mes), et les phases plus difficiles semblent surtout liÃ©es Ã  la dispersion et Ã  la fatigue.","Tu explores plusieurs chantiers riches en parallÃ¨le ; ton point de friction rÃ©current est surtout de stabiliser le â€œQuoiâ€ et de trancher une direction unique Ã  tenir.","Quand Ã§a coince, tu peux partir en â€œtunnelâ€ sur le technique ; mais tu observes aussi une montÃ©e en puissance de tes outils de structuration qui tâ€™aident Ã  reprendre le recul."]}]);return(n,y)=>(o(),c("div",Ot,[x(M,{width:"3/5","content-class":"flex flex-col",class:"min-w-[280px] max-h-40 md:max-h-60 overflow-y-auto",onTouchstart:p,onTouchmove:f,onTouchend:a,"show-action":!g(e),"action-icon":"ChevronRightIcon",onAction:v},{header:$(()=>[g(e)?w("",!0):(o(),c("div",Nt,"Message de votre mentor "+L(d.value[r.value].name),1))]),default:$(()=>[s("div",Xt,[s("span",Yt,[g(e)?(o(),c("img",{key:0,src:d.value[r.value].image,alt:"Mentor",class:"block md:hidden w-12 h-12 object-cover rounded-xl m-1 mr-2 float-left"},null,8,Qt)):w("",!0),D(" "+L(d.value[r.value].messages.join(`
`))+"... ",1)])])]),_:1},8,["show-action"]),g(e)?w("",!0):(o(),J(M,{key:0,width:"2/5","content-class":"absolute inset-0",class:"min-w-[200px] h-44 md:h-60 relative overflow-hidden"},{default:$(()=>[s("img",{src:d.value[r.value].image,alt:"Mentor",class:"w-full h-full object-cover rounded-xl"},null,8,Kt)]),_:1}))]))}}),Wt=t=>(we("data-v-55865764"),t=t(),$e(),t),Zt={class:"min-h-screen text-slate-100 p-2 md:p-10 md:w-11/12 mx-auto"},es={class:"flex justify-between items-center mb-4"},ts=Wt(()=>s("h1",{class:"text-2xl font-bold"},"Mon studio",-1)),ss={class:"mb-6 flex items-end gap-4"},as={class:"flex flex-col gap-4"},ns=T({__name:"HomePage",setup(t){const{triggerAnalysis:e}=H(),{launchSnackbar:r}=ee(),_=new Date().toISOString().split("T")[0],m=h(_),p=async()=>{if(!m.value){r("Please select a date","error");return}console.log("Trigger analysis action with date:",m.value),await e(m.value)};return(f,a)=>{const v=ye("router-link");return o(),c("div",Zt,[s("div",es,[ts,x(v,{to:"/app/llm-calls",class:"text-sm underline text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300"},{default:$(()=>[D(" LLM Calls ")]),_:1})]),s("div",ss,[x(Q,{label:"Date d'analyse",modelValue:m.value,"onUpdate:modelValue":a[0]||(a[0]=d=>m.value=d),type:"date",class:"flex-1 max-w-xs"},null,8,["modelValue"]),x(ke,{onClick:p,type:"valid",class:"mb-0"},{default:$(()=>[D("Valider")]),_:1})]),s("div",as,[x(zt),x(He),x(Gt),x(Dt)])])}}});const ms=re(ns,[["__scopeId","data-v-55865764"]]);export{ms as default};
