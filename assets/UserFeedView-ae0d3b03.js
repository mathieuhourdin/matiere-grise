import{d as h,v as w,r as m,f as $,y as I,c,h as o,t as v,m as V,w as U,z as b,a as g,j as t,l as C,e as k,o as r,u as x,g as N}from"./index-59c76290.js";import{_ as i}from"./TextInput.vue_vue_type_script_setup_true_lang-1daf8a89.js";import{r as B,b as T,c as D,u as E}from"./ResourceComponent.vue_vue_type_script_setup_true_lang-0c8fa3b7.js";import{_ as P}from"./CreateThoughtInput.vue_vue_type_script_setup_true_lang-13164d24.js";import"./TextInterface.vue_vue_type_script_setup_true_lang-75e19a1b.js";import"./useResource-d5786571.js";import"./useThoughtInputUsages-afa17082.js";const j={class:"text-center p-4 bg-slate-200"},z={key:0},F=["src"],H={class:"text-2xl bold"},M={key:1},S={class:"flex mx-auto"},q={class:"flex"},A={class:"flex flex-row-reverse"},G=h({__name:"UserInfos",props:{user:{}},setup(_){const n=_,{user:d,debouncedUpdateUser:f}=k(),p=w(()=>n.user.id===d.value.id),u=m(!1),l=m(null);return $(()=>l.value=n.user),I(l,a=>f(a.id,a),{deep:!0}),(a,e)=>(r(),c("div",j,[u.value?(r(),c("div",M,[t(i,{class:"mx-auto w-2/3",modelValue:l.value.profile_picture_url,"onUpdate:modelValue":e[1]||(e[1]=s=>l.value.profile_picture_url=s),label:"Photo de profil"},null,8,["modelValue"]),o("div",S,[t(i,{class:"ml-auto",modelValue:l.value.first_name,"onUpdate:modelValue":e[2]||(e[2]=s=>l.value.first_name=s),label:"Prénom"},null,8,["modelValue"]),t(i,{class:"mr-auto",modelValue:l.value.last_name,"onUpdate:modelValue":e[3]||(e[3]=s=>l.value.last_name=s),label:"Nom"},null,8,["modelValue"])]),o("div",q,[t(i,{class:"ml-auto",modelValue:l.value.handle,"onUpdate:modelValue":e[4]||(e[4]=s=>l.value.handle=s),label:"Handle"},null,8,["modelValue"]),t(i,{class:"mr-auto",modelValue:l.value.email,"onUpdate:modelValue":e[5]||(e[5]=s=>l.value.email=s),label:"Email"},null,8,["modelValue"])]),o("div",A,[t(C,{onClick:e[6]||(e[6]=s=>u.value=!1),text:"Valider",type:"valid"})])])):(r(),c("div",z,[o("img",{src:a.user.profile_picture_url,class:"mx-auto m-4 w-1/6"},null,8,F),o("div",H,v(a.user.first_name)+" "+v(a.user.last_name),1),o("div",null,v(a.user.handle),1),o("div",null,v(a.user.email),1),p.value?(r(),V(b,{key:0,class:"right-4 absolute",onClick:e[0]||(e[0]=s=>u.value=!0)},{default:U(()=>[t(x(B),{class:"m-1"})]),_:1})):g("",!0)]))]))}}),J={class:"m-8"},K=o("div",{class:"text-center m-4 italic text-sm"},"Derniers apports extérieurs",-1),Z=h({__name:"UserFeedView",props:{pageUserId:{}},setup(_){const n=_,d=m(!1),{getUserById:f,user:p}=k(),u=m(null),{getUserThoughtInputs:l}=E(),a=m([]);return $(async()=>{u.value=await f(n.pageUserId),a.value=await l(n.pageUserId)}),(e,s)=>(r(),c("div",null,[o("div",J,[u.value?(r(),V(G,{key:0,class:"mx-auto border my-8",user:u.value},null,8,["user"])):g("",!0),K,x(p)&&e.pageUserId==x(p).id?(r(),V(b,{key:1,class:"mx-auto md:mx-0",onClick:s[0]||(s[0]=y=>d.value=!0)},{default:U(()=>[N("+")]),_:1})):g("",!0),t(T,{open:d.value},{default:U(()=>[t(P,{onClose:s[1]||(s[1]=y=>d.value=!1)})]),_:1},8,["open"]),t(D,{class:"mx-auto","thought-inputs":a.value},null,8,["thought-inputs"])])]))}});export{Z as default};
