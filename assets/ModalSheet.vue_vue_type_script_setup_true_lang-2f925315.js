import{A as d,d as _,r as m,l as g,B as y,o as u,c,f as r,t as i,h as k,x,a as p,i as f,w as I,y as C,e as D,F as b,p as B,C as S,q as $,z as T,g as N,D as V}from"./index-ffc433d9.js";function z(){return{resource_title:"",resource_author_name:"",resource_type:"",resource_link:"",resource_image_link:"",resource_comment:"",input_progress:0,input_date:new Date(Date.now()),input_comment:"",input_is_public:!0}}function h(e){return console.log("Date : ",e.input_date),e.input_date=new Date(e.input_date),e}async function A(){return(await d.get("/thought_inputs")).data.map(o=>h(o))}async function F(e){return(await d.get("/users/"+e+"/thought_inputs")).data.map(n=>h(n))}async function L(e){const o=new Date(e.input_date);console.log("Date : ",o);const n=o.toISOString().split(".")[0];e.input_progress=Number(e.input_progress);const t=await d.post("/thought_inputs",{...e,input_date:n});return h(t.data)}function Q(){return{getUserThoughtInputs:F,newThoughtInput:z,createThoughtInput:L,getThoughtInputs:A}}const M={class:"border shadow-lg rounded m-3 p-4 md:w-96"},R={class:"flex"},U=["src"],O={class:"flex flex-wrap w-full",style:{"margin-top":"-8px"}},q={class:"text-2xs italic"},E={class:"ml-auto m-1 w-1/3"},W={class:"text-2xs"},j={class:"flex flex-wrap"},G={key:0,class:"text-2xs italic"},H=_({__name:"ThoughtInputCard",props:{thoughtInput:{}},setup(e){const o=e,{getUserById:n}=D(),t=m(null);g(async()=>t.value=await n(o.thoughtInput.input_user_id));const l=s=>s.toLocaleString("fr-FR",{hour:"numeric",weekday:"short",day:"numeric",month:"short",year:"2-digit"}),a=s=>s.length>200?s.slice(0,150)+"...":s;return(s,v)=>{const w=y("router-link");return u(),c("div",M,[r("div",R,[r("img",{class:"w-8 h-fit mr-4",src:s.thoughtInput.resource_image_link},null,8,U),r("div",null,[r("div",null,i(s.thoughtInput.resource_title),1),r("div",O,[r("div",q,i(s.thoughtInput.resource_author_name),1),r("div",E,[k(x,{"progress-value":s.thoughtInput.input_progress},null,8,["progress-value"])])]),r("div",W,i(a(s.thoughtInput.input_comment)),1)])]),r("div",j,[s.thoughtInput.input_date?(u(),c("div",G,i(l(s.thoughtInput.input_date)),1)):p("",!0),t.value?(u(),f(w,{key:1,to:"/users/"+t.value.id,class:"ml-auto text-2xs underline"},{default:I(()=>[C(i(t.value.first_name)+" "+i(t.value.last_name),1)]),_:1},8,["to"])):p("",!0)])])}}}),J={class:"relative max-w-full"},K={key:0,class:"absolute md:border h-full start-1/2"},X=_({__name:"ThoughtInputsList",props:{thoughtInputs:{},center:{type:Boolean,default:!1}},emits:["select"],setup(e,{emit:o}){const n=t=>{console.log("Select"),o("select",t)};return(t,l)=>(u(),c("div",J,[t.center?p("",!0):(u(),c("div",K)),(u(!0),c(b,null,B(t.thoughtInputs,(a,s)=>(u(),f(H,{key:a.id,class:S(["mx-auto max-w-full",{"md:ml-0":s%2==0&&!t.center,"md:mr-0":!t.center}]),"thought-input":a,onClick:v=>n(a)},null,8,["class","thought-input","onClick"]))),128))]))}}),Y=_({__name:"ModalSheet",props:{open:{type:Boolean,default:!1}},emits:["close"],setup(e,{emit:o}){const n=e,t=m(!1);return g(()=>t.value=n.open),$(T(n).open,l=>t.value=l),(l,a)=>t.value?(u(),c("div",{key:0,class:"fixed top-0 left-0 w-full h-full z-10 bg-slate-500/50",onClick:a[1]||(a[1]=s=>o("close"))},[r("div",{class:"max-w-xl overflow-y-scroll max-h-screen mb-10 bg-white mx-auto mt-6 p-4 rounded shadow",onClick:a[0]||(a[0]=V(()=>{},["stop"]))},[N(l.$slots,"default")])])):p("",!0)}});export{X as _,Y as a,Q as u};
