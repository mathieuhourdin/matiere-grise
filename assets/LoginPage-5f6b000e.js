import{_ as n}from"./TextInput.vue_vue_type_script_setup_true_lang-2d8364a8.js";import{_ as i}from"./ActionButton.vue_vue_type_script_setup_true_lang-3cd90eb0.js";import{d as v,p as w,i as y,k as p,c,b as r,I as b,a as s,o as m,z as x,e as g,j as V,w as k}from"./index-a22a2d8b.js";import{_ as U}from"./CheckboxInput.vue_vue_type_script_setup_true_lang-15f837b4.js";const $={class:"p-2 border border-slate-400 dark:border-gray-600 h-fit shadow rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-colors duration-200"},C={class:"flex"},h=r("div",{class:"m-2"},"Connectez-vous",-1),P={class:"flex"},z=v({__name:"LoginForm",setup(f){const d=w(),{authUser:e}=y(),o=p(""),t=p(""),l=async()=>{console.log("Submit"),console.log(o.value),await e({username:o.value,password:t.value},d.query.redirectPath)};return(a,u)=>(m(),c("div",$,[r("div",C,[h,b(a.$slots,"default")]),s(n,{class:"m-2",label:"Username",modelValue:o.value,"onUpdate:modelValue":u[0]||(u[0]=_=>o.value=_),autocomplete:"username"},null,8,["modelValue"]),s(n,{class:"m-2",type:"password",label:"Password",modelValue:t.value,"onUpdate:modelValue":u[1]||(u[1]=_=>t.value=_),autocomplete:"current-password"},null,8,["modelValue"]),r("div",P,[s(i,{class:"ml-auto m-2",text:"Valider",type:"valid",onClick:l}),s(i,{class:"m-2",text:"Annuler",type:"abort",onClick:l})])]))}}),B={class:"md:w-2/5 h-fit border shadow rounded p-4"},L=r("div",{class:"m-2"},"Inscription",-1),I=["src"],S={class:"mt-2 flex"},j=v({__name:"SignInForm",setup(f){const{createNewUser:d}=y(),e=p({username:"",email:"",first_name:"",last_name:"",profile_picture_url:"",handle:"@",password:"",pseudonym:"",pseudonymized:!1});x(()=>[e.value.first_name,e.value.last_name],([t,l])=>{if(t||l){const a=t?t.toLowerCase().replace(/\s+/g,"_"):"",u=l?l.toLowerCase().replace(/\s+/g,"_"):"";a&&u?e.value.handle="@"+a+"_"+u:a?e.value.handle="@"+a:u?e.value.handle="@"+u:e.value.handle="@"}else e.value.handle="@"},{immediate:!0});const o=async()=>{await d(e.value)};return(t,l)=>(m(),c("div",B,[L,s(n,{class:"mt-2",label:"Email*",modelValue:e.value.email,"onUpdate:modelValue":l[0]||(l[0]=a=>e.value.email=a),autocomplete:"email"},null,8,["modelValue"]),s(n,{class:"mt-2",label:"Prénom",modelValue:e.value.first_name,"onUpdate:modelValue":l[1]||(l[1]=a=>e.value.first_name=a),autocomplete:"given-name"},null,8,["modelValue"]),s(n,{class:"mt-2",label:"Nom",modelValue:e.value.last_name,"onUpdate:modelValue":l[2]||(l[2]=a=>e.value.last_name=a),autocomplete:"family-name"},null,8,["modelValue"]),s(n,{class:"mt-2",label:"Photo de profil",modelValue:e.value.profile_picture_url,"onUpdate:modelValue":l[3]||(l[3]=a=>e.value.profile_picture_url=a),autocomplete:"url"},null,8,["modelValue"]),e.value.profile_picture_url!=""?(m(),c("img",{key:0,class:"rounded mt-2 mx-auto",src:e.value.profile_picture_url},null,8,I)):g("",!0),s(n,{class:"mt-2",label:"Pseudo",modelValue:e.value.pseudonym,"onUpdate:modelValue":l[4]||(l[4]=a=>e.value.pseudonym=a)},null,8,["modelValue"]),s(U,{class:"mt-2",modelValue:e.value.pseudonymized,"onUpdate:modelValue":l[5]||(l[5]=a=>e.value.pseudonymized=a),label:"Ne montrer que votre pseudo"},null,8,["modelValue"]),s(n,{class:"mt-2",label:"handle* (@comme_sur_insta)",modelValue:e.value.handle,"onUpdate:modelValue":l[6]||(l[6]=a=>e.value.handle=a)},null,8,["modelValue"]),s(n,{class:"mt-2",label:"Password*",modelValue:e.value.password,"onUpdate:modelValue":l[7]||(l[7]=a=>e.value.password=a),type:"password"},null,8,["modelValue"]),r("div",S,[s(i,{class:"ml-auto m-2",text:"Valider",type:"valid",onClick:o}),s(i,{class:"m-2",text:"Annuler",type:"abort",onClick:o})])]))}}),q={class:"mt-6 flex justify-center"},A={class:"ml-auto flex items-center"},D=v({__name:"LoginPage",setup(f){const d=p(!1);return(e,o)=>(m(),c("div",q,[d.value?(m(),V(j,{key:1})):(m(),V(z,{key:0},{default:k(()=>[r("div",A,[r("div",{class:"text-xs underline p-2",onClick:o[0]||(o[0]=t=>d.value=!0)},"Créer un compte")])]),_:1}))]))}});export{D as default};
