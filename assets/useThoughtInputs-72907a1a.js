import{o as u,f as c,a as r,d,t as m,b as _,e as f,I as h,j as w,D as g,z as k,J as b,s as v,m as y,q as l,E as x}from"./index-7ec0c1d6.js";function T(e,t){return u(),c("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})])}const E={class:"m-4"},C={class:"block text-2xs text-slate-800"},D=["value","placeholder"],z=d({__name:"TextAreaInput",props:{label:{},modelValue:{},placeholder:{}},emits:["update:modelValue"],setup(e,{emit:t}){const a=s=>{t("update:modelValue",s.target.value)};return(s,o)=>(u(),c("div",E,[r("label",C,m(s.label),1),r("textarea",{class:"border border-neutral-800 block h-full w-full",value:s.modelValue,placeholder:s.placeholder,onInput:o[0]||(o[0]=n=>a(n))},null,40,D)]))}}),S={class:"flex"},N=d({__name:"ModalSheet",props:{open:{type:Boolean,default:!1}},emits:["close"],setup(e,{emit:t}){const a=e,s=_(!1);return f(()=>{s.value=a.open}),h(()=>{const o=n=>{(n.key==="Escape"||n.key==="Enter"||n.key==="Esc"||n.keyCode===27)&&t("close")};return window.addEventListener("keydown",o),()=>{window.removeEventListener("keydown",o)}}),w(g(a).open,o=>s.value=o),(o,n)=>s.value?(u(),c("div",{key:0,tabindex:"0",onKeyup:n[2]||(n[2]=v(p=>t("close"),["esc"])),class:"fixed top-0 left-0 w-full h-full z-10 bg-slate-500/50",onClick:n[3]||(n[3]=p=>t("close"))},[r("div",{class:"max-w-xl overflow-y-scroll max-h-screen mb-10 bg-white mx-auto mt-6 p-4 rounded shadow",onClick:n[1]||(n[1]=b(()=>{},["stop"]))},[r("div",S,[r("div",{class:"ml-auto",onClick:n[0]||(n[0]=p=>t("close"))},"x")]),k(o.$slots,"default")])],32)):y("",!0)}}),{launchSnackbar:V}=x();function $(){const e={title:"",subtitle:"",content:"",external_content_url:"",publishing_state:"pbsh",maturing_state:"fnsh",image_url:"",resource_type:"",comment:""};return{interaction_progress:0,interaction_date:new Date(Date.now()),interaction_comment:"",interaction_is_public:!0,resource:e}}function i(e){return console.log("Date : ",e.interaction_date),e.interaction_date=new Date(e.interaction_date),e}async function A(){return(await l.get("/thought_inputs?limit=60")).data.map(t=>i(t))}async function B(e){const t=await l.get("/thought_inputs/"+e);return i(t.data)}async function I(e){return(await l.get("/users/"+e+"/thought_inputs?limit=60")).data.map(a=>i(a))}async function L(e){const t=new Date(e.interaction_date);console.log("Date : ",t);const a=t.toISOString().split(".")[0];e.interaction_progress=Number(e.interaction_progress);const s=await l.post("/thought_inputs",{...e,interaction_date:a});return V("Creation de l'input r√©ussie","success"),i(s.data)}function O(){return{getUserThoughtInputs:I,newThoughtInput:$,createThoughtInput:L,getThoughtInputs:A,getThoughtInput:B}}export{N as _,z as a,T as r,O as u};
