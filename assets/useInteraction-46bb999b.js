import{q as a,A as u,p}from"./index-9488f31e.js";const{launchSnackbar:c}=u(),{user:i}=p();function d(){return{interaction_progress:0,interaction_date:new Date(Date.now()),interaction_comment:"",interaction_is_public:!0}}function s(t){return console.log("Date : ",t.interaction_date),t.interaction_date=new Date(t.interaction_date),t}async function _(){return(await a.get("/thought_inputs?limit=60")).data.map(e=>s(e))}async function g(){const t=await a.get("/thought_inputs?limit=60"),e=await a.get("/thought_outputs?limit=60");return t.data.map(n=>s(n)).concat(e.data.map(n=>s(n)))}async function l(t){const e=await a.get("/users/"+t+"/thought_inputs?limit=60"),n=await a.get("/users/"+t+"/thought_outputs?limit=60");let o={data:[]};return i.value&&i.value.id===t&&(o=await a.get("/users/"+t+"/thought_outputs?drafts=true")),e.data.map(r=>s(r)).concat(n.data.map(r=>s(r))).concat(o.data.map(r=>s(r)))}async function m(t){return(await a.get("/users/"+t+"/thought_outputs?limit=60")).data.map(n=>s(n))}async function w(t){const e=await a.get("/thought_inputs/"+t);return s(e.data)}async function f(t){return(await a.get("/users/"+t+"/thought_inputs")).data.map(n=>s(n))}async function y(t,e){const n=new Date(e.interaction_date);console.log("Date : ",n);const o=n.toISOString().split(".")[0];e.interaction_progress=Number(e.interaction_progress);const r=await a.put("/interactions/"+t,{...e,interaction_date:o});return s(r.data)}async function D(t){const e=new Date(t.interaction_date);console.log("Date : ",e);const n=e.toISOString().split(".")[0];t.interaction_progress=Number(t.interaction_progress);const o=await a.post("/thought_inputs",{...t,interaction_date:n});return c("Creation de l'input réussie","success"),s(o.data)}async function S(t,e){const n=new Date(e.interaction_date);console.log("Date : ",n);const o=n.toISOString().split(".")[0];e.interaction_progress=Number(e.interaction_progress);const r=await a.post(`/resources/${t}/interactions`,{...e,interaction_date:o});return c("Creation de l'input réussie","success"),s(r.data)}async function b(t){return(await a.get(`/resources/${t}/interactions`)).data.map(n=>s(n))}function R(){return{getUserInteractions:f,newInteraction:d,createInteraction:D,getInteractions:_,getInteraction:w,updateInteraction:y,createInteractionForResource:S,getInteractionsForResource:b,getUserThoughtOutputs:m,getReadAndWriteInteractions:g,getUserReadAndWriteInteractions:l}}export{R as u};
