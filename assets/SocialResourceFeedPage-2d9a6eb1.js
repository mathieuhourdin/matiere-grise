import{_ as m}from"./FeedList.vue_vue_type_script_setup_true_lang-aa11f6b7.js";import{u as d}from"./useResourceRelations-7ec31ded.js";import{d as _,r as a,j as p,o as v,B as f,c as x,e as b,s as h,n as k,b as w}from"./index-feeccd59.js";import"./UserMini.vue_vue_type_script_setup_true_lang-3dc0c824.js";import"./PaperAirplaneIcon-8093e1c4.js";const B={class:"mt-1 md:w-96 mx-auto"},$=_({__name:"SocialResourceFeedPage",props:{id:{}},setup(r){const o=r,{getResource:i}=h(),{headerValue:n}=k(),s=a(null),{getAllRelationsForResource:c}=d(),t=a([]),l=p(()=>t.value.map(e=>(console.log("Resource : ",e),{resource:e.origin_resource_id===o.id?e.target_resource:e.origin_resource,date:e.created_at,user_id:e.user_id,context_comment:e.relation_comment,interaction_type:"bibl",progress:null,...e})).sort((e,u)=>.5-Math.random()));return v(async()=>{t.value=await c(o.id),s.value=await i(o.id),n.value={text:s.value.title,link:`/resources/${s.value.id}`}}),f(()=>{n.value=null}),(e,u)=>(w(),x("div",B,[b(m,{"interactions-list":l.value},null,8,["interactions-list"])]))}});export{$ as default};
