import{_ as b}from"./FeedList.vue_vue_type_script_setup_true_lang-9d8926cd.js";import{d as c,r as f,o,c as u,w,a,t as v,b as _,e as d,f as n,F as h,g as x,h as g,i as m}from"./index-94d17780.js";import{u as k}from"./useProblem-8e3c0b12.js";import{u as y}from"./useInteraction-1cf209fb.js";import"./useResourceRelations-09e669e7.js";const F={class:"w-10 mx-auto"},$=["src"],B={class:"text-center overflow-hidden mt-1 text-xs",style:{display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":"3"}},P=c({__name:"FollowedProblem",props:{problem:{}},setup(l){return(t,s)=>{const r=f("router-link");return o(),u(r,{to:"/resources/"+t.problem.id+"/feed",class:"m-1"},{default:w(()=>[a("div",F,[a("img",{src:t.problem.image_url,class:"border-2 border-zinc-400 rounded-full max-w-full aspect-[2/2] object-cover object-center w-full"},null,8,$)]),a("div",B,v(t.problem.title),1)]),_:1},8,["to"])}}}),C={class:"flex"},I=c({__name:"FollowedProblemsList",setup(l){const{getProblems:t}=k(),s=_([]);return d(async()=>{s.value=await t()}),(r,i)=>(o(),n("div",C,[(o(!0),n(h,null,x(s.value,e=>(o(),u(P,{problem:e,class:"shrink-0 grow-0 w-16"},null,8,["problem"]))),256))]))}}),V={class:"mt-1"},z=c({__name:"FeedView",setup(l){const{getReadAndWriteInteractions:t}=y(),s=_([]),r=g(()=>s.value.map(e=>({resource:e.resource,date:e.interaction_date,user_id:e.interaction_user_id,context_comment:e.interaction_comment,progress:e.interaction_progress,...e})).sort((e,p)=>.5-Math.random())),i=async()=>s.value=await t();return d(async()=>{await i()}),(e,p)=>(o(),n("div",V,[m(I,{class:"overflow-scroll mb-2 md:mx-8",style:{"scrollbar-width":"none","-ms-overflow-style":"none"}}),m(b,{"interactions-list":r.value,class:"md:w-96 mx-auto"},null,8,["interactions-list"])]))}});export{z as default};
