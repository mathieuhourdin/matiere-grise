import{d as _,o as u,c as d,a as n,t as v,r as i,b as t,_ as p,f,e as V}from"./index-cf3bd340.js";const b={class:"m-4"},h={class:"block"},g=["value","placeholder"],m=_({__name:"TextInput",props:{label:{},modelValue:{},placeholder:{}},emits:["update:modelValue"],setup(c,{emit:o}){const a=s=>{o("update:modelValue",s.target.value)};return(s,l)=>(u(),d("div",b,[n("label",h,v(s.label),1),n("input",{class:"border block",value:s.modelValue,placeholder:s.placeholder,onInput:l[0]||(l[0]=e=>a(e))},null,40,g)]))}}),w={class:"w-1/3 border shadow rounded"},I=n("div",{class:"m-2"},"Connectez-vous",-1),$={class:"flex"},k={__name:"LoginForm",setup(c){const o=i(""),a=i(""),s=async()=>{console.log("Submit"),console.log(o.value);const l=await f.post("/sessions",{username:o.value,password:a.value});if(l.status==200){const e=l.data;localStorage.setItem("sessionId",e.id),localStorage.setItem("userId",e.user_id),V.push("/")}};return(l,e)=>(u(),d("div",w,[I,t(m,{label:"Username",modelValue:o.value,"onUpdate:modelValue":e[0]||(e[0]=r=>o.value=r)},null,8,["modelValue"]),t(m,{label:"Password",modelValue:a.value,"onUpdate:modelValue":e[1]||(e[1]=r=>a.value=r)},null,8,["modelValue"]),n("div",$,[t(p,{class:"ml-auto m-2",text:"Valider",type:"valid",onClick:s}),t(p,{class:"m-2",text:"Annuler",type:"abort",onClick:s})])]))}},x={class:"h-80 flex items-center justify-center"},C={__name:"LoginView",setup(c){return(o,a)=>(u(),d("div",x,[t(k)]))}};export{C as default};
