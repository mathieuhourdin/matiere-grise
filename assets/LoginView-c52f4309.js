import{_ as t}from"./TextInput.vue_vue_type_script_setup_true_lang-a504f1ae.js";import{_ as i}from"./ActionButton.vue_vue_type_script_setup_true_lang-457145be.js";import{d as _,u as x,b as c,f as v,a as n,y as b,i as s,o as r,p as w,c as f,w as y}from"./index-f06e5b0a.js";const U={class:"p-2 border h-fit shadow rounded"},$={class:"flex"},k=n("div",{class:"m-2"},"Connectez-vous",-1),C={class:"flex"},g=_({__name:"LoginForm",setup(V){const u=x(),{authUser:e}=w(),o=c(""),d=c(""),l=async()=>{console.log("Submit"),console.log(o.value),await e({username:o.value,password:d.value},u.query.redirectPath)};return(a,m)=>(r(),v("div",U,[n("div",$,[k,b(a.$slots,"default")]),s(t,{class:"m-2",label:"Username",modelValue:o.value,"onUpdate:modelValue":m[0]||(m[0]=p=>o.value=p)},null,8,["modelValue"]),s(t,{class:"m-2",type:"password",label:"Password",modelValue:d.value,"onUpdate:modelValue":m[1]||(m[1]=p=>d.value=p)},null,8,["modelValue"]),n("div",C,[s(i,{class:"ml-auto m-2",text:"Valider",type:"valid",onClick:l}),s(i,{class:"m-2",text:"Annuler",type:"abort",onClick:l})])]))}}),h={class:"w-1/3 border shadow rounded"},B=n("div",{class:"m-2"},"Inscription",-1),N={class:"flex"},P=_({__name:"SignInForm",setup(V){const{createNewUser:u}=w(),e=c({username:"",email:"",first_name:"",last_name:"",handle:"",password:""}),o=async()=>{await u(e.value)};return(d,l)=>(r(),v("div",h,[B,s(t,{label:"Email",modelValue:e.value.email,"onUpdate:modelValue":l[0]||(l[0]=a=>e.value.email=a)},null,8,["modelValue"]),s(t,{label:"Prénom",modelValue:e.value.first_name,"onUpdate:modelValue":l[1]||(l[1]=a=>e.value.first_name=a)},null,8,["modelValue"]),s(t,{label:"Nom",modelValue:e.value.last_name,"onUpdate:modelValue":l[2]||(l[2]=a=>e.value.last_name=a)},null,8,["modelValue"]),s(t,{label:"handle",modelValue:e.value.handle,"onUpdate:modelValue":l[3]||(l[3]=a=>e.value.handle=a)},null,8,["modelValue"]),s(t,{label:"Password",modelValue:e.value.password,"onUpdate:modelValue":l[4]||(l[4]=a=>e.value.password=a),type:"password"},null,8,["modelValue"]),n("div",N,[s(i,{class:"ml-auto m-2",text:"Valider",type:"valid",onClick:o}),s(i,{class:"m-2",text:"Annuler",type:"abort",onClick:o})])]))}}),S={class:"mt-6 mx-auto flex justify-center"},A={class:"ml-auto flex items-center"},L=_({__name:"LoginView",setup(V){const u=c(!1);return(e,o)=>(r(),v("div",S,[u.value?(r(),f(P,{key:1})):(r(),f(g,{key:0},{default:y(()=>[n("div",A,[n("div",{class:"text-xs underline p-2",onClick:o[0]||(o[0]=d=>u.value=!0)},"Créer un compte")])]),_:1}))]))}});export{L as default};
