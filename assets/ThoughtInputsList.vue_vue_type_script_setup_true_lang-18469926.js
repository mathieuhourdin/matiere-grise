import{_ as k}from"./useThoughtInputs-9af091db.js";import{d as c,r as _,l as v,q as y,A as C,o as n,c as r,f as s,g as x,C as $,a as d,s as b,v as B,t as i,h,w as m,x as g,z as S,i as w,e as T,F as N,p as V,D as z}from"./index-fd9b9d6c.js";const D=c({__name:"ModalSheet",props:{open:{type:Boolean,default:!1}},emits:["close"],setup(p,{emit:u}){const a=p,t=_(!1);return v(()=>t.value=a.open),y(C(a).open,l=>t.value=l),(l,o)=>t.value?(n(),r("div",{key:0,class:"fixed top-0 left-0 w-full h-full z-10 bg-slate-500/50",onClick:o[1]||(o[1]=e=>u("close"))},[s("div",{class:"max-w-xl overflow-y-scroll max-h-screen mb-10 bg-white mx-auto mt-6 p-4 rounded shadow",onClick:o[0]||(o[0]=$(()=>{},["stop"]))},[x(l.$slots,"default")])])):d("",!0)}}),F={class:"m-3 md:w-96"},L={key:0,class:"text-xs italic mb-2"},M={class:"border shadow-lg rounded p-4 md:w-96"},A={class:"flex"},O=["src"],R={class:"flex flex-wrap w-full",style:{"margin-top":"-8px"}},U={class:"text-2xs italic"},q={class:"ml-auto m-1 w-1/3"},E={class:"text-2xs"},P={class:"flex flex-wrap"},W={key:0,class:"text-2xs italic"},j=c({__name:"ThoughtInputCard",props:{thoughtInput:{}},setup(p){const u=p,{getUserById:a}=T(),t=_(null);b(()=>t.value&&t.value.id===user.value.id),v(async()=>t.value=await a(u.thoughtInput.input_user_id));const l=e=>e.toLocaleString("fr-FR",{hour:"numeric",weekday:"short",day:"numeric",month:"short",year:"2-digit"}),o=e=>e.length>200?e.slice(0,150)+"...":e;return(e,I)=>{const f=B("router-link");return n(),r("div",F,[e.thoughtInput.usage_reason?(n(),r("div",L,i(e.thoughtInput.usage_reason),1)):d("",!0),s("div",M,[s("div",A,[s("img",{class:"w-8 h-fit mr-4",src:e.thoughtInput.resource_image_link},null,8,O),s("div",null,[s("div",null,[h(f,{to:"/thought_inputs/"+e.thoughtInput.id},{default:m(()=>[g(i(e.thoughtInput.resource_title),1)]),_:1},8,["to"])]),s("div",R,[s("div",U,i(e.thoughtInput.resource_author_name),1),s("div",q,[h(S,{"progress-value":e.thoughtInput.input_progress},null,8,["progress-value"])])]),s("div",E,i(o(e.thoughtInput.input_comment)),1)])]),s("div",P,[e.thoughtInput.input_date?(n(),r("div",W,i(l(e.thoughtInput.input_date)),1)):d("",!0),t.value?(n(),w(f,{key:1,to:"/users/"+t.value.id,class:"ml-auto text-2xs underline"},{default:m(()=>[g(i(t.value.first_name)+" "+i(t.value.last_name),1)]),_:1},8,["to"])):d("",!0)])])])}}}),G={class:"w-fit"},H=c({__name:"ThoughtInputCardWithPopup",props:{thoughtInput:{}},setup(p){const u=_(!1);return(a,t)=>(n(),r("div",G,[h(D,{open:u.value,onClose:t[0]||(t[0]=l=>u.value=!1)},{default:m(()=>[h(k,{"thought-input":a.thoughtInput},null,8,["thought-input"])]),_:1},8,["open"]),h(j,{class:"md:w-96 w-full","thought-input":a.thoughtInput,onClick:t[1]||(t[1]=l=>u.value=!0)},null,8,["thought-input"])]))}}),J={class:"relative max-w-full"},K={key:0,class:"absolute md:border h-full start-1/2"},Y=c({__name:"ThoughtInputsList",props:{thoughtInputs:{},center:{type:Boolean,default:!1}},emits:["select"],setup(p,{emit:u}){const a=t=>{console.log("Select"),u("select",t)};return(t,l)=>(n(),r("div",J,[t.center?d("",!0):(n(),r("div",K)),(n(!0),r(N,null,V(t.thoughtInputs,(o,e)=>(n(),w(H,{key:o.id,class:z(["mx-auto",{"md:ml-0":e%2==0&&!t.center,"md:mr-0":!t.center}]),"thought-input":o,onClick:I=>a(o)},null,8,["class","thought-input","onClick"]))),128))]))}});export{Y as _,D as a};
