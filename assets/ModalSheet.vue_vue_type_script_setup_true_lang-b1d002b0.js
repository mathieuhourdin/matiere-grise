import{A as c,d as p,o as a,c as u,f as r,t as l,a as d,F as m,p as g,i as f,C as w,r as v,l as y,q as k,z as C,g as D,D as I}from"./index-b78d04a6.js";function b(){return{resource_title:"",resource_author_name:"",resource_type:"",resource_link:"",resource_image_link:"",resource_comment:"",input_progress:0,input_date:new Date(Date.now()),input_comment:"",input_is_public:!0}}function _(e){return console.log("Date : ",e.input_date),e.input_date=new Date(e.input_date),e}async function x(){return(await c.get("/thought_inputs")).data.map(s=>_(s))}async function S(e){return(await c.get("/users/"+e+"/thought_inputs")).data.map(n=>_(n))}async function $(e){const s=new Date(e.input_date);console.log("Date : ",s);const n=s.toISOString().split(".")[0];e.input_progress=Number(e.input_progress);const t=await c.post("/thought_inputs",{...e,input_date:n});return _(t.data)}function q(){return{getUserThoughtInputs:S,newThoughtInput:b,createThoughtInput:$,getThoughtInputs:x}}const B={class:"border shadow-xl rounded m-2 p-4 w-96"},T={class:"flex"},z=["src"],F={class:"text-2xs italic",style:{"margin-top":"-8px"}},L={class:"text-2xs"},M={key:0,class:"text-2xs italic"},N=p({__name:"ThoughtInputCard",props:{thoughtInput:{}},setup(e){const s=t=>t.toLocaleString("fr-FR",{hour:"numeric",weekday:"short",day:"numeric",month:"short",year:"2-digit"}),n=t=>t.length>200?t.slice(0,150)+"...":t;return(t,i)=>(a(),u("div",B,[r("div",T,[r("img",{class:"w-8 h-fit mr-4",src:t.thoughtInput.resource_image_link},null,8,z),r("div",null,[r("div",null,l(t.thoughtInput.resource_title),1),r("div",F,l(t.thoughtInput.resource_author_name),1),r("div",L,l(n(t.thoughtInput.input_comment)),1)])]),t.thoughtInput.input_date?(a(),u("div",M,l(s(t.thoughtInput.input_date)),1)):d("",!0)]))}}),R={class:"relative"},A={key:0,class:"absolute md:border h-full start-1/2"},E=p({__name:"ThoughtInputsList",props:{thoughtInputs:{},center:{type:Boolean,default:!1}},emits:["select"],setup(e,{emit:s}){const n=t=>{console.log("Select"),s("select",t)};return(t,i)=>(a(),u("div",R,[t.center?d("",!0):(a(),u("div",A)),(a(!0),u(m,null,g(t.thoughtInputs,(o,h)=>(a(),f(N,{key:o.id,class:w(["mx-auto max-w-full",{"md:ml-0":h%2==0&&!t.center,"md:mr-0":!t.center}]),"thought-input":o,onClick:O=>n(o)},null,8,["class","thought-input","onClick"]))),128))]))}}),U=p({__name:"ModalSheet",props:{open:{type:Boolean,default:!1}},emits:["close"],setup(e,{emit:s}){const n=e,t=v(!1);return y(()=>t.value=n.open),k(C(n).open,i=>t.value=i),(i,o)=>t.value?(a(),u("div",{key:0,class:"fixed top-0 left-0 w-full h-full z-10 bg-slate-500/50",onClick:o[1]||(o[1]=h=>s("close"))},[r("div",{class:"max-w-xl overflow-y-scroll max-h-screen mb-10 bg-white mx-auto mt-6 p-4 rounded shadow",onClick:o[0]||(o[0]=I(()=>{},["stop"]))},[D(i.$slots,"default")])])):d("",!0)}});export{E as _,U as a,q as u};
