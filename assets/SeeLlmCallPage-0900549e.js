import{d as S,x as N,r as p,o as T,c as r,l as e,t as o,p as O,k as l,b as a}from"./index-4b296900.js";import{u as R}from"./useLlmCall-217d0d68.js";const q={class:"p-4 md:px-8"},J={key:0,class:"text-center text-2xl pt-10"},P={key:1},A={class:"flex flex-wrap items-center gap-4 mb-6"},B=e("h1",{class:"text-3xl font-bold"},"LLM Call Details",-1),F={key:0},M={key:1},$={key:0},D={key:1},U={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"},I={class:"border border-slate-300 dark:border-zinc-700 rounded-lg p-4"},E=e("div",{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 mb-2"},"Model",-1),V={class:"text-lg"},G={class:"border border-slate-300 dark:border-zinc-700 rounded-lg p-4"},H=e("div",{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 mb-2"},"Status",-1),K={class:"border border-slate-300 dark:border-zinc-700 rounded-lg p-4"},Q=e("div",{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 mb-2"},"Created At",-1),W={class:"text-lg"},X={class:"border border-slate-300 dark:border-zinc-700 rounded-lg p-4"},Y=e("div",{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 mb-2"},"Updated At",-1),Z={class:"text-lg"},j={class:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6"},ee={class:"border border-slate-300 dark:border-zinc-700 rounded-lg p-4"},te=e("div",{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 mb-2"},"Input Tokens",-1),se={class:"text-xl"},oe={class:"border border-slate-300 dark:border-zinc-700 rounded-lg p-4"},re=e("div",{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 mb-2"},"Output Tokens",-1),ae={class:"text-xl"},de={class:"border border-slate-300 dark:border-zinc-700 rounded-lg p-4"},le=e("div",{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 mb-2"},"Reasoning Tokens",-1),ne={class:"text-xl"},ie={key:0,class:"mb-6"},ce={class:"border border-slate-300 dark:border-zinc-700 rounded-lg p-4"},ue=e("div",{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 mb-2"},"Cost",-1),_e={class:"text-2xl"},pe={key:1,class:"mb-6"},me={class:"border border-slate-300 dark:border-zinc-700 rounded-lg p-4"},be=e("div",{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 mb-2"},"Request URL",-1),ge={class:"text-sm break-all"},ve={key:2,class:"mb-6"},xe={class:"border border-slate-300 dark:border-zinc-700 rounded-lg p-4"},ye=e("div",{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 mb-2"},"User Prompt",-1),he={class:"whitespace-pre-wrap text-sm bg-gray-50 dark:bg-zinc-900 p-3 rounded overflow-x-auto"},ke={key:3,class:"mb-6"},fe={class:"border border-slate-300 dark:border-zinc-700 rounded-lg p-4"},we=e("div",{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 mb-2"},"Output",-1),ze={class:"whitespace-pre-wrap text-sm bg-gray-50 dark:bg-zinc-900 p-3 rounded overflow-x-auto"},Ce={class:"mb-6"},Le={class:"border border-slate-300 dark:border-zinc-700 rounded-lg p-4"},Se=e("div",{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 mb-2"},"Prompt",-1),Ne={class:"whitespace-pre-wrap text-sm bg-gray-50 dark:bg-zinc-900 p-3 rounded overflow-x-auto"},Te={key:4,class:"mb-6"},Oe={class:"border border-slate-300 dark:border-zinc-700 rounded-lg p-4"},Re=e("div",{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 mb-2"},"Schema",-1),qe={class:"whitespace-pre-wrap text-sm bg-gray-50 dark:bg-zinc-900 p-3 rounded overflow-x-auto"},Je={key:5,class:"mb-6"},Pe={class:"border border-slate-300 dark:border-zinc-700 rounded-lg p-4"},Ae=e("div",{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 mb-2"},"Request",-1),Be={class:"whitespace-pre-wrap text-sm bg-gray-50 dark:bg-zinc-900 p-3 rounded overflow-x-auto"},Fe={key:6,class:"mb-6"},Me={class:"border border-slate-300 dark:border-zinc-700 rounded-lg p-4"},$e=e("div",{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 mb-2"},"Response",-1),De={class:"whitespace-pre-wrap text-sm bg-gray-50 dark:bg-zinc-900 p-3 rounded overflow-x-auto"},Ue={key:2,class:"text-center text-2xl pt-10 text-red-600"},Ve=S({__name:"SeeLlmCallPage",props:{id:{}},setup(x){const y=x,g=N(),{getLlmCall:h}=R(),t=p(null),m=p(!0),n=p(""),i=p(""),k=()=>{if(window.history.length>1){g.back();return}g.push("/app/llm-calls")},v=s=>s?new Date(s).toLocaleString():"",b=s=>{if(!s)return"";try{const d=JSON.parse(s);return JSON.stringify(d,null,2)}catch{return s}},f=async()=>{if(t.value)try{const s=JSON.stringify(t.value,null,2);await navigator.clipboard.writeText(s),n.value="Copied!",setTimeout(()=>{n.value=""},2e3)}catch(s){console.error("Failed to copy:",s),n.value="Copy failed",setTimeout(()=>{n.value=""},2e3)}},w=()=>{if(!t.value)return"";const s=t.value,d=s.display_name??s.displayName??"",c=s.analysis_id??s.analysisId??"",u=s.prompt??"",_=s.user_prompt??s.userPrompt??"",L=s.output??"";return[`display_name: ${d}`,`analysis_id: ${c}`,`System prompt: ${u}`,`User prompt: ${_}`,`Output: ${L}`].join(`
`)},z=async()=>{if(t.value)try{await navigator.clipboard.writeText(w()),i.value="Copied!",setTimeout(()=>{i.value=""},2e3)}catch(s){console.error("Failed to copy summary:",s),i.value="Copy failed",setTimeout(()=>{i.value=""},2e3)}},C=s=>{const d=s.toLowerCase();return d==="success"||d==="completed"?"text-green-600 dark:text-green-400":d==="error"||d==="failed"?"text-red-600 dark:text-red-400":d==="pending"||d==="processing"?"text-yellow-600 dark:text-yellow-400":"text-gray-600 dark:text-gray-400"};return T(async()=>{try{m.value=!0,t.value=await h(y.id)}catch(s){console.error("Error loading LLM call:",s)}finally{m.value=!1}}),(s,d)=>{var c,u,_;return a(),r("div",q,[m.value?(a(),r("div",J,"Loading...")):t.value?(a(),r("div",P,[e("div",{class:"mb-6"},[e("button",{type:"button",onClick:k,class:"text-sm underline text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200"}," ‚Üê Back ")]),e("div",A,[B,e("button",{type:"button",onClick:f,class:"inline-flex items-center gap-2 px-3 py-1.5 text-sm font-medium rounded-lg border border-slate-300 dark:border-zinc-700 bg-white dark:bg-zinc-800 text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-zinc-700 transition-colors"},[n.value?(a(),r("span",F,o(n.value),1)):(a(),r("span",M,"Copy raw JSON"))]),e("button",{type:"button",onClick:z,class:"inline-flex items-center gap-2 px-3 py-1.5 text-sm font-medium rounded-lg border border-slate-300 dark:border-zinc-700 bg-white dark:bg-zinc-800 text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-zinc-700 transition-colors"},[i.value?(a(),r("span",$,o(i.value),1)):(a(),r("span",D,"Copy summary"))])]),e("div",U,[e("div",I,[E,e("div",V,o(t.value.model),1)]),e("div",G,[H,e("div",{class:O(["text-lg",C(t.value.status)])},o(t.value.status),3)]),e("div",K,[Q,e("div",W,o(v(t.value.created_at)),1)]),e("div",X,[Y,e("div",Z,o(v(t.value.updated_at)),1)])]),e("div",j,[e("div",ee,[te,e("div",se,o(((c=t.value.input_tokens_used)==null?void 0:c.toLocaleString())||"N/A"),1)]),e("div",oe,[re,e("div",ae,o(((u=t.value.output_tokens_used)==null?void 0:u.toLocaleString())||"N/A"),1)]),e("div",de,[le,e("div",ne,o(((_=t.value.reasoning_tokens_used)==null?void 0:_.toLocaleString())||"N/A"),1)])]),t.value.price?(a(),r("div",ie,[e("div",ce,[ue,e("div",_e,o(t.value.price.toFixed(6))+" "+o(t.value.currency),1)])])):l("",!0),t.value.request_url?(a(),r("div",pe,[e("div",me,[be,e("div",ge,o(t.value.request_url),1)])])):l("",!0),t.value.user_prompt?(a(),r("div",ve,[e("div",xe,[ye,e("pre",he,o(t.value.user_prompt),1)])])):l("",!0),t.value.output?(a(),r("div",ke,[e("div",fe,[we,e("pre",ze,o(b(t.value.output)),1)])])):l("",!0),e("div",Ce,[e("div",Le,[Se,e("pre",Ne,o(t.value.prompt),1)])]),t.value.schema?(a(),r("div",Te,[e("div",Oe,[Re,e("pre",qe,o(t.value.schema),1)])])):l("",!0),t.value.request?(a(),r("div",Je,[e("div",Pe,[Ae,e("pre",Be,o(b(t.value.request)),1)])])):l("",!0),t.value.response?(a(),r("div",Fe,[e("div",Me,[$e,e("pre",De,o(b(t.value.response)),1)])])):l("",!0)])):(a(),r("div",Ue,"LLM Call not found"))])}}});export{Ve as default};
