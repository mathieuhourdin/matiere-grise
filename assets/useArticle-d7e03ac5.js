import{_ as v}from"./ActionButton.vue_vue_type_script_setup_true_lang-3ffe5bb8.js";import{d as x,b as _,k as A,u as w,e as k,f as a,m,F as b,g as $,a as q,o,i as B,t as E,q as c,A as C}from"./index-f0176bff.js";const N={class:"justify-items-center mx-auto flex flex-wrap max-w-full"},S={key:0,class:"ml-auto"},K={key:0,class:"absolute right-0 top-0 w-4 h-4 rounded-square text-2xs bg-green-400 text-center"},F=q("div",{class:"mr-auto"},null,-1),T=x({__name:"ToggleButtonGroup",props:{choices:{},default:{},urlKey:{},url:{type:Boolean,default:!1},center:{type:Boolean,default:!1}},emits:["update"],setup(p,{emit:d}){const n=p,l=_(null),y=A(),e=w(),t=r=>{if(d("update",r),l.value=r,n.url){const g=e.query,s=e.path,i=n.urlKey??"tab";console.log(i);const f={};f[i]=r;const h={...g,...f};y.push({path:s,query:h}),console.log(`route : ${JSON.stringify(e)}`)}};return k(()=>t(n.default??"")),(r,g)=>(o(),a("div",N,[r.center?(o(),a("div",S)):m("",!0),(o(!0),a(b,null,$(r.choices,s=>(o(),a("div",{class:"relative",key:s.value},[B(v,{class:"w-30 my-1 mx-1",text:s.text,onClick:i=>t(s.value),type:s.value==l.value?"valid":"abort"},null,8,["text","onClick","type"]),s.count?(o(),a("div",K,E(s.count),1)):m("",!0)]))),128)),F]))}}),{launchSnackbar:u}=C();function j(){return{newArticle:()=>_({title:"",subtitle:"",content:"",comment:"",maturing_state:"",publishing_state:"drft",external_content_url:"",image_url:"",resource_type:"atcl"}),getArticle:async e=>{try{return(await c.get("/articles/"+e)).data}catch(t){u(`Error getting article : ${t}`,"error")}},createArticle:async e=>{try{return(await c.post("/articles",e)).data}catch(t){u(`Error creating article : ${t}`,"error")}},updateArticle:async(e,t)=>{try{return await c.put("/thought_outputs/"+e,t)}catch(r){u(`Error updating article : ${r}`,"error")}},getArticles:async e=>{try{const t=`?author=${e.author}&drafts=${e.drafts}`;return(await c.get("/articles"+t)).data}catch(t){u(`Error getting articles : ${t}`,"error")}}}}export{T as _,j as u};
