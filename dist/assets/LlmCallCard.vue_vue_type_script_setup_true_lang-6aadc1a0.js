import{d as v,x as b,r as w,b as a,c as r,l,t as s,a0 as S,f as T,p as L,k as i}from"./index-51450bb9.js";const $=["href"],z={class:"flex justify-between items-start"},D={class:"flex-1"},N={class:"flex items-center gap-2 flex-wrap"},P={class:"font-semibold text-lg"},B=["onClick"],F={key:0},I={key:1},V={class:"text-xs text-gray-500 mt-0.5"},j={class:"text-sm text-gray-600 dark:text-gray-400 mt-1"},A={class:"text-sm text-gray-600 dark:text-gray-400 mt-1"},K={key:0,class:"text-sm text-gray-600 dark:text-gray-400 mt-1"},O={class:"text-right text-sm text-gray-500"},R={key:0},E={key:1},M={key:2},U={key:0,class:"mt-2 text-sm text-gray-700 dark:text-gray-300 line-clamp-2"},G=v({__name:"LlmCallCard",props:{llmCall:{},showPrompt:{type:Boolean,default:!0}},setup(d){const u=d,m=b(),o=w(""),c=(t,e)=>{t.ctrlKey||t.metaKey||(t.preventDefault(),m.push({path:"/app/llm-calls/"+e}))},p=t=>{t.button!==1&&t.preventDefault()},y=t=>t?new Date(t).toLocaleString():"",g=(t,e)=>t?t.length<=e?t:t.substring(0,e)+"...":"",k=t=>{const e=t.toLowerCase();return e==="success"||e==="completed"?"text-green-600 dark:text-green-400":e==="error"||e==="failed"?"text-red-600 dark:text-red-400":e==="pending"||e==="processing"?"text-yellow-600 dark:text-yellow-400":"text-gray-600 dark:text-gray-400"},C=()=>{const t=u.llmCall,e=t.display_name??t.displayName??"",n=t.analysis_id??t.analysisId??"",f=t.prompt??"",h=t.user_prompt??t.userPrompt??"",x=t.output??"";return[`display_name: ${e}`,`analysis_id: ${n}`,`System prompt: ${f}`,`User prompt: ${h}`,`Output: ${x}`].join(`
`)},_=async()=>{try{await navigator.clipboard.writeText(C()),o.value="Copied!",setTimeout(()=>{o.value=""},2e3)}catch(t){console.error("Failed to copy summary:",t),o.value="Copy failed",setTimeout(()=>{o.value=""},2e3)}};return(t,e)=>(a(),r("a",{href:`/app/llm-calls/${t.llmCall.id}`,class:"block border border-slate-300 dark:border-zinc-700 rounded-lg p-4 cursor-pointer hover:bg-slate-50 dark:hover:bg-zinc-800 no-underline",onClick:e[0]||(e[0]=n=>c(n,t.llmCall.id)),onAuxclick:e[1]||(e[1]=n=>p(n))},[l("div",z,[l("div",D,[l("div",N,[l("div",P,s(t.llmCall.display_name||t.llmCall.model),1),l("button",{type:"button",class:"inline-flex items-center gap-1 px-2 py-0.5 text-xs rounded border border-slate-300 dark:border-zinc-700 text-gray-600 dark:text-gray-300 hover:bg-slate-100 dark:hover:bg-zinc-700 transition-colors",onClick:S(_,["stop","prevent"])},[o.value?(a(),r("span",F,s(o.value),1)):(a(),r("span",I,"Copy summary"))],8,B)]),l("div",V,s(t.llmCall.model),1),l("div",j,[T(" Status: "),l("span",{class:L(k(t.llmCall.status))},s(t.llmCall.status),3)]),l("div",A," Created: "+s(y(t.llmCall.created_at)),1),t.llmCall.price?(a(),r("div",K," Cost: "+s(t.llmCall.price.toFixed(4))+" "+s(t.llmCall.currency),1)):i("",!0)]),l("div",O,[t.llmCall.input_tokens_used?(a(),r("div",R," Input: "+s(t.llmCall.input_tokens_used.toLocaleString()),1)):i("",!0),t.llmCall.output_tokens_used?(a(),r("div",E," Output: "+s(t.llmCall.output_tokens_used.toLocaleString()),1)):i("",!0),t.llmCall.reasoning_tokens_used?(a(),r("div",M," Reasoning: "+s(t.llmCall.reasoning_tokens_used.toLocaleString()),1)):i("",!0)])]),t.showPrompt?(a(),r("div",U,s(g(t.llmCall.prompt,150)),1)):i("",!0)],40,$))}});export{G as _};
