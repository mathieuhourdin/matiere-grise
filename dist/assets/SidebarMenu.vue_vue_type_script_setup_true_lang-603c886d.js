import{d as h,j as $,b as r,c as v,l as c,h as _,B as w,t as k,e,p as y,m as p,w as g,C as I,D as S,E as A,T as z,G as B,a as D,k as b,n as T,H as C,i as E,u as W,r as H,y as U}from"./index-3d64515b.js";import{H as M,r as R,a as V,b as j,c as L}from"./index-b1d346ab.js";const N={class:"mb-1"},G={class:"flex items-center space-x-2"},O={class:"ml-4 mt-1 space-y-0.5"},P=h({__name:"MenuSection",props:{title:{},icon:{},isExpanded:{type:Boolean},isActive:{type:Boolean}},emits:["toggle"],setup(m){const a=m,o=$(()=>M[a.icon]||R);return(i,n)=>(r(),v("div",N,[c("button",{onClick:n[0]||(n[0]=u=>i.$emit("toggle")),class:y(["w-full flex items-center justify-between px-3 py-2.5 text-sm font-semibold text-gray-700 dark:text-gray-300 hover:bg-slate-100 dark:hover:bg-gray-800 rounded-lg transition-colors duration-200",i.isActive?"text-blue-700 dark:text-blue-300":""])},[c("div",G,[(r(),_(w(o.value),{class:"w-5 h-5"})),c("span",null,k(i.title),1)]),e(p(V),{class:y(["w-4 h-4 transition-transform duration-200",i.isExpanded?"rotate-0":"-rotate-90"])},null,8,["class"])],2),e(z,{name:"slide"},{default:g(()=>[I(c("div",O,[S(i.$slots,"default",{},void 0,!0)],512),[[A,i.isExpanded]])]),_:3})]))}});const x=B(P,[["__scopeId","data-v-94899a61"]]),q={class:"truncate"},F={key:1,class:"ml-auto w-1 h-4 bg-blue-600 dark:bg-blue-400 rounded-full"},l=h({__name:"MenuItem",props:{to:{},title:{},icon:{},isActive:{type:Boolean}},setup(m){const a=m,{isMobile:o,setMenuOpen:i}=T(),n=$(()=>a.icon&&M[a.icon]||null),u=()=>{o.value&&i(!1)};return(t,s)=>{const d=D("router-link");return r(),_(d,{to:t.to,onClick:u,class:y(["flex items-center space-x-2 px-3 py-2 rounded-lg text-sm transition-colors duration-200",t.isActive?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 font-medium":"text-gray-600 dark:text-gray-400 hover:bg-slate-100 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-gray-200"])},{default:g(()=>[t.icon?(r(),_(w(n.value),{key:0,class:"w-4 h-4 flex-shrink-0"})):b("",!0),c("span",q,k(t.title),1),t.isActive?(r(),v("div",F)):b("",!0)]),_:1},8,["to","class"])}}}),J=["aria-label"],K={key:0,class:"w-5 h-5 text-yellow-500",fill:"currentColor",viewBox:"0 0 20 20"},Q=c("path",{"fill-rule":"evenodd",d:"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z","clip-rule":"evenodd"},null,-1),X=[Q],Y={key:1,class:"w-5 h-5 text-gray-600 dark:text-gray-300",fill:"currentColor",viewBox:"0 0 20 20"},Z=c("path",{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"},null,-1),ee=[Z],te=h({__name:"DarkModeToggle",setup(m){const{isDarkMode:a,toggleDarkMode:o}=C();return(i,n)=>(r(),v("button",{onClick:n[0]||(n[0]=(...u)=>p(o)&&p(o)(...u)),class:"p-2 rounded-lg transition-colors duration-200 hover:bg-gray-200 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":p(a)?"Switch to light mode":"Switch to dark mode"},[p(a)?(r(),v("svg",K,X)):(r(),v("svg",Y,ee))],8,J))}}),se={class:"flex items-center justify-between px-3 py-2 rounded-lg hover:bg-slate-100 dark:hover:bg-gray-800 transition-colors duration-200"},oe={class:"flex items-center space-x-2"},ae={class:"text-sm text-gray-700 dark:text-gray-300"},ie=h({__name:"DarkModeMenuItem",setup(m){const{isDarkMode:a}=C();return(o,i)=>(r(),v("div",se,[c("div",oe,[p(a)?(r(),_(p(j),{key:0,class:"w-4 h-4 text-gray-600 dark:text-gray-400"})):(r(),_(p(L),{key:1,class:"w-4 h-4 text-gray-600 dark:text-gray-400"})),c("span",ae,k(p(a)?"Mode sombre":"Mode clair"),1)]),e(te)]))}}),ne={class:"bg-slate-50 dark:bg-elevated z-10 border-r border-slate-200 dark:border-gray-700 transition-colors duration-200 w-full md:w-64"},re={class:"py-2"},le={class:"px-3 mt-4 pt-4 border-t border-slate-200 dark:border-gray-700"},ue=h({__name:"SidebarMenu",setup(m){const a=E();W();const o=H(new Set(["social","me"])),i=s=>o.value.has(s),n=s=>{o.value.has(s)?o.value.delete(s):o.value.add(s)},u=s=>a.path.startsWith(`/${s}`),t=s=>a.path===s||a.path.startsWith(s+"/");return U(()=>a.path,s=>{s.startsWith("/social")?o.value.add("social"):s.startsWith("/me")?o.value.add("me"):s.startsWith("/app")?o.value.add("app"):s.startsWith("/legacy")&&o.value.add("legacy")},{immediate:!0}),(s,d)=>(r(),v("div",ne,[c("nav",re,[e(x,{title:"Social",icon:"UsersIcon","is-expanded":i("social"),"is-active":u("social"),onToggle:d[0]||(d[0]=f=>n("social"))},{default:g(()=>[e(l,{to:"/social/feed",title:"Fil d'actu",icon:"RssIcon","is-active":t("/social/feed")},null,8,["is-active"]),e(l,{to:"/social/resources",title:"Ressources",icon:"BookOpenIcon","is-active":t("/social/resources")},null,8,["is-active"]),e(l,{to:"/social/users",title:"Utilisateurs",icon:"UserGroupIcon","is-active":t("/social/users")},null,8,["is-active"])]),_:1},8,["is-expanded","is-active"]),e(x,{title:"Moi",icon:"UserIcon","is-expanded":i("me"),"is-active":u("me"),onToggle:d[1]||(d[1]=f=>n("me"))},{default:g(()=>[e(l,{to:"/me/home",title:"Accueil",icon:"HomeIcon","is-active":t("/me/home")},null,8,["is-active"]),e(l,{to:"/me/create-resource",title:"Créer une ressource",icon:"PlusCircleIcon","is-active":t("/me/create-resource")},null,8,["is-active"]),e(l,{to:"/me/platform-presentation",title:"À propos",icon:"InformationCircleIcon","is-active":t("/me/platform-presentation")},null,8,["is-active"]),e(l,{to:"/me/mission-choice",title:"Choix de mission",icon:"ClipboardDocumentCheckIcon","is-active":t("/me/mission-choice")},null,8,["is-active"]),e(l,{to:"/me/mentor-choice",title:"Choix de mentor",icon:"AcademicCapIcon","is-active":t("/me/mentor-choice")},null,8,["is-active"])]),_:1},8,["is-expanded","is-active"]),e(x,{title:"Application",icon:"Cog6ToothIcon","is-expanded":i("app"),"is-active":u("app"),onToggle:d[2]||(d[2]=f=>n("app"))},{default:g(()=>[e(l,{to:"/app/trace",title:"Laisser une trace",icon:"PencilSquareIcon","is-active":t("/app/trace")},null,8,["is-active"]),e(l,{to:"/app/writer",title:"Éditeur",icon:"DocumentTextIcon","is-active":t("/app/writer")},null,8,["is-active"])]),_:1},8,["is-expanded","is-active"]),e(x,{title:"Legacy",icon:"ArchiveBoxIcon","is-expanded":i("legacy"),"is-active":u("legacy"),onToggle:d[3]||(d[3]=f=>n("legacy"))},{default:g(()=>[e(l,{to:"/legacy/spip-conversion",title:"Conversion SPIP",icon:"ArrowPathIcon","is-active":t("/legacy/spip-conversion")},null,8,["is-active"])]),_:1},8,["is-expanded","is-active"]),c("div",le,[e(ie)])])]))}});export{ue as _};
