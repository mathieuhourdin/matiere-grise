import{A as _,d as c,o as a,c as u,f as r,t as l,a as p,F as h,p as f,i as g,C as w,r as v,l as k,q as y,z as C,g as D,D as b}from"./index-ab286a70.js";function x(){return{resource_title:"",resource_author_name:"",resource_type:"",resource_link:"",resource_image_link:"",resource_comment:"",input_progress:0,input_date:new Date(Date.now()),input_comment:"",input_is_public:!0}}function m(t){return console.log("Date : ",t.input_date),t.input_date=new Date(t.input_date),t}async function I(t){return(await _.get("/users/"+t+"/thought_inputs")).data.map(o=>m(o))}async function S(t){const s=new Date(t.input_date);console.log("Date : ",s);const o=s.toISOString().split(".")[0];t.input_progress=Number(t.input_progress);const e=await _.post("/thought_inputs",{...t,input_date:o});return m(e.data)}function V(){return{getUserThoughtInputs:I,newThoughtInput:x,createThoughtInput:S}}const $={class:"border shadow-xl rounded m-2 p-4 w-96"},B={class:"flex"},T=["src"],z={class:"text-2xs italic",style:{"margin-top":"-8px"}},F={class:"text-2xs"},L={key:0,class:"text-2xs italic"},M=c({__name:"ThoughtInputCard",props:{thoughtInput:{}},setup(t){const s=e=>e.toLocaleString("fr-FR",{hour:"numeric",weekday:"short",day:"numeric",month:"short",year:"2-digit"}),o=e=>e.length>200?e.slice(0,150)+"...":e;return(e,i)=>(a(),u("div",$,[r("div",B,[r("img",{class:"w-8 h-fit mr-4",src:e.thoughtInput.resource_image_link},null,8,T),r("div",null,[r("div",null,l(e.thoughtInput.resource_title),1),r("div",z,l(e.thoughtInput.resource_author_name),1),r("div",F,l(o(e.thoughtInput.input_comment)),1)])]),e.thoughtInput.input_date?(a(),u("div",L,l(s(e.thoughtInput.input_date)),1)):p("",!0)]))}}),N={class:"relative"},R={key:0,class:"absolute md:border h-full start-1/2"},q=c({__name:"ThoughtInputsList",props:{thoughtInputs:{},center:{type:Boolean,default:!1}},emits:["select"],setup(t,{emit:s}){const o=e=>{console.log("Select"),s("select",e)};return(e,i)=>(a(),u("div",N,[e.center?p("",!0):(a(),u("div",R)),(a(!0),u(h,null,f(e.thoughtInputs,(n,d)=>(a(),g(M,{key:n.id,class:w(["mx-auto max-w-full",{"md:ml-0":d%2==0&&!e.center,"md:mr-0":!e.center}]),"thought-input":n,onClick:A=>o(n)},null,8,["class","thought-input","onClick"]))),128))]))}}),E=c({__name:"ModalSheet",props:{open:{type:Boolean,default:!1}},emits:["close"],setup(t,{emit:s}){const o=t,e=v(!1);return k(()=>e.value=o.open),y(C(o).open,i=>e.value=i),(i,n)=>e.value?(a(),u("div",{key:0,class:"fixed top-0 left-0 w-full h-full z-10 bg-slate-500/50",onClick:n[1]||(n[1]=d=>s("close"))},[r("div",{class:"max-w-xl overflow-y-scroll max-h-screen mb-10 bg-white mx-auto mt-6 p-4 rounded shadow",onClick:n[0]||(n[0]=b(()=>{},["stop"]))},[D(i.$slots,"default")])])):p("",!0)}});export{q as _,E as a,V as u};
