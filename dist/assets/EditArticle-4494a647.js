import{_}from"./ArticleForm.vue_vue_type_script_setup_true_lang-0396b6f8.js";import{i as v,r as f,k as w,p as t,q as x,o as g,c as h,a as s,d as r,f as A,_ as k,g as y,h as B}from"./index-dbdb1fe2.js";import"./TextInput.vue_vue_type_script_setup_true_lang-2f70aabd.js";const C={class:"max-w-xl mt-8 mx-auto border-2 p-4"},E=s("div",null,"Edition",-1),N={class:"flex"},U=v({__name:"EditArticle",props:{id:{}},setup(n){const a=n,{newArticle:u,getArticle:d,updateArticle:l}=y(),e=u(),o=f(null),p=async()=>{await l(t(a).id.value,e.value),B.push("/articles/"+t(a).id.value)};return w(async()=>{e.value=await d(t(a).id.value)}),x(e,i=>{console.log("New article : ",i),clearTimeout(o.value),o.value=setTimeout(async()=>{await l(t(a).id.value,e.value)},2e3)},{deep:!0}),(i,c)=>(g(),h("div",null,[s("div",C,[E,r(_,{class:"w-full",article:A(e),onChange:c[0]||(c[0]=m=>e.value=m)},null,8,["article"]),s("div",N,[r(k,{onClick:p,text:"Valider",type:"valid",class:"ml-auto m-4"})])])]))}});export{U as default};
