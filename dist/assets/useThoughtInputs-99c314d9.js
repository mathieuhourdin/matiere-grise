import{_ as l}from"./TextInterface.vue_vue_type_script_setup_true_lang-f7898447.js";import{d as h,r as d,l as m,o as p,c as _,f as e,t as u,a as g,h as c,A as f,e as b,C as a}from"./index-a6212284.js";const x=["src"],y={class:"text-3xl my-3 font-mplus md:text-center text-left"},v={class:"text-center"},I={class:"md:text-center text-left"},w={key:0},k={class:"md:flex my-8"},D=["href"],T=e("hr",{class:"border-top border-zinc-400 my-4"},null,-1),A=e("div",{class:"text-xs"},"Description de l'oeuvre",-1),B=e("hr",{class:"border-top border-zinc-400 my-4"},null,-1),N=e("div",{class:"text-xs"},"Pourquoi la lire",-1),E=h({__name:"SeeThoughtInput",props:{thoughtInput:{}},setup(t){const s=t,{getUserById:r}=b(),o=d(null);return m(async()=>o.value=await r(s.thoughtInput.input_user_id)),(n,V)=>(p(),_("div",null,[e("div",null,[e("img",{src:n.thoughtInput.resource_image_link,class:"border border-slate-300 dark:border-zinc-700 rounded-xl ml-auto mr-auto",style:{"max-height":"10rem"}},null,8,x)]),e("h1",y,u(n.thoughtInput.resource_title),1),e("div",v,[e("span",I,u(n.thoughtInput.resource_author_name),1),o.value?(p(),_("span",w," lu par "+u(o.value.first_name)+" "+u(o.value.last_name),1)):g("",!0)]),e("div",k,[c(f,{"progress-value":n.thoughtInput.input_progress,class:"m-2 w-1/3"},null,8,["progress-value"]),e("a",{class:"ml-auto underline",href:n.thoughtInput.resource_link}," ressource externe",8,D)]),T,A,c(l,{class:"border text-sm","full-text":n.thoughtInput.resource_comment,editable:n.isThoughtOutputAuthor},null,8,["full-text","editable"]),B,N,c(l,{class:"border text-sm","full-text":n.thoughtInput.input_comment,editable:n.isThoughtOutputAuthor},null,8,["full-text","editable"])]))}});function S(){return{resource_title:"",resource_author_name:"",resource_type:"",resource_link:"",resource_image_link:"",resource_comment:"",input_progress:0,input_date:new Date(Date.now()),input_comment:"",input_is_public:!0}}function i(t){return console.log("Date : ",t.input_date),t.input_date=new Date(t.input_date),t}async function U(){return(await a.get("/thought_inputs")).data.map(s=>i(s))}async function z(t){const s=await a.get("/thought_inputs/"+t);return i(s.data)}async function C(t){return(await a.get("/users/"+t+"/thought_inputs")).data.map(r=>i(r))}async function O(t){const s=new Date(t.input_date);console.log("Date : ",s);const r=s.toISOString().split(".")[0];t.input_progress=Number(t.input_progress);const o=await a.post("/thought_inputs",{...t,input_date:r});return i(o.data)}function M(){return{getUserThoughtInputs:C,newThoughtInput:S,createThoughtInput:O,getThoughtInputs:U,getThoughtInput:z}}export{E as _,M as u};
