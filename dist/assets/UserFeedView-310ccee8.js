import{d as g,v as y,r as m,f as x,y as w,c as p,h as o,t as c,m as h,w as $,z as I,a as U,j as t,l as C,e as b,o as r,u as V}from"./index-bd79dfef.js";import{_ as d}from"./TextInput.vue_vue_type_script_setup_true_lang-ec7e0500.js";import{r as B,b as N,c as T,u as j}from"./ResourceComponent.vue_vue_type_script_setup_true_lang-ef0641f5.js";import{_ as D}from"./CreateThoughtInput.vue_vue_type_script_setup_true_lang-d7254e15.js";import"./TextInterface.vue_vue_type_script_setup_true_lang-7dc3410b.js";import"./useResource-759233b0.js";import"./useThoughtInputUsages-de040b0f.js";const E={class:"text-center p-4 bg-slate-200"},P={key:0},z=["src"],A={class:"text-2xl bold"},F={key:1},H={class:"flex mx-auto"},M={class:"flex"},S={class:"flex flex-row-reverse"},q=g({__name:"UserInfos",props:{user:{}},setup(_){const n=_,{user:i,debouncedUpdateUser:f}=b(),v=y(()=>n.user.id===i.value.id),u=m(!1),l=m(null);return x(()=>l.value=n.user),w(l,a=>f(a.id,a),{deep:!0}),(a,e)=>(r(),p("div",E,[u.value?(r(),p("div",F,[t(d,{class:"mx-auto w-2/3",modelValue:l.value.profile_picture_url,"onUpdate:modelValue":e[1]||(e[1]=s=>l.value.profile_picture_url=s),label:"Photo de profil"},null,8,["modelValue"]),o("div",H,[t(d,{class:"ml-auto",modelValue:l.value.first_name,"onUpdate:modelValue":e[2]||(e[2]=s=>l.value.first_name=s),label:"Prénom"},null,8,["modelValue"]),t(d,{class:"mr-auto",modelValue:l.value.last_name,"onUpdate:modelValue":e[3]||(e[3]=s=>l.value.last_name=s),label:"Nom"},null,8,["modelValue"])]),o("div",M,[t(d,{class:"ml-auto",modelValue:l.value.handle,"onUpdate:modelValue":e[4]||(e[4]=s=>l.value.handle=s),label:"Handle"},null,8,["modelValue"]),t(d,{class:"mr-auto",modelValue:l.value.email,"onUpdate:modelValue":e[5]||(e[5]=s=>l.value.email=s),label:"Email"},null,8,["modelValue"])]),o("div",S,[t(C,{onClick:e[6]||(e[6]=s=>u.value=!1),text:"Valider",type:"valid"})])])):(r(),p("div",P,[o("img",{src:a.user.profile_picture_url,class:"mx-auto m-4 w-1/6"},null,8,z),o("div",A,c(a.user.first_name)+" "+c(a.user.last_name),1),o("div",null,c(a.user.handle),1),o("div",null,c(a.user.email),1),v.value?(r(),h(I,{key:0,class:"right-4 absolute",onClick:e[0]||(e[0]=s=>u.value=!0)},{default:$(()=>[t(V(B),{class:"m-1"})]),_:1})):U("",!0)]))]))}}),G={class:"m-8"},J=o("div",{class:"text-center m-4 italic text-sm"},"Derniers apports extérieurs",-1),Y=g({__name:"UserFeedView",props:{pageUserId:{}},setup(_){const n=_,i=m(!1),{getUserById:f,user:v}=b(),u=m(null),{getUserThoughtInputs:l}=j(),a=m([]);return x(async()=>{u.value=await f(n.pageUserId),a.value=await l(n.pageUserId)}),(e,s)=>(r(),p("div",null,[o("div",G,[u.value?(r(),h(q,{key:0,class:"mx-auto border my-8",user:u.value},null,8,["user"])):U("",!0),J,V(v)&&e.pageUserId==V(v).id?(r(),p("div",{key:1,class:"italic underline text-xs",onClick:s[0]||(s[0]=k=>i.value=!0)}," Ajouter un nouvel apport ")):U("",!0),t(N,{open:i.value},{default:$(()=>[t(D,{onClose:s[1]||(s[1]=k=>i.value=!1)})]),_:1},8,["open"]),t(T,{class:"mx-auto","thought-inputs":a.value},null,8,["thought-inputs"])])]))}});export{Y as default};
