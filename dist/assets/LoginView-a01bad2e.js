import{_ as t}from"./TextInput.vue_vue_type_script_setup_true_lang-d9a2239e.js";import{_ as i}from"./ActionButton.vue_vue_type_script_setup_true_lang-0b3a61b2.js";import{d as v,D as b,s as y,f as p,h as c,b as u,E as w,j as s,o as d,q as x,a as f,w as U}from"./index-fe2a20ee.js";import{_ as k}from"./CheckboxInput.vue_vue_type_script_setup_true_lang-36176c44.js";const g={class:"p-2 border border-slate-400 dark:border-gray-600 h-fit shadow rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 transition-colors duration-200"},$={class:"flex"},C=u("div",{class:"m-2"},"Connectez-vous",-1),N={class:"flex"},P=v({__name:"LoginForm",setup(V){const n=b(),{authUser:e}=y(),o=p(""),r=p(""),l=async()=>{console.log("Submit"),console.log(o.value),await e({username:o.value,password:r.value},n.query.redirectPath)};return(a,m)=>(d(),c("div",g,[u("div",$,[C,w(a.$slots,"default")]),s(t,{class:"m-2",label:"Username",modelValue:o.value,"onUpdate:modelValue":m[0]||(m[0]=_=>o.value=_)},null,8,["modelValue"]),s(t,{class:"m-2",type:"password",label:"Password",modelValue:r.value,"onUpdate:modelValue":m[1]||(m[1]=_=>r.value=_)},null,8,["modelValue"]),u("div",N,[s(i,{class:"ml-auto m-2",text:"Valider",type:"valid",onClick:l}),s(i,{class:"m-2",text:"Annuler",type:"abort",onClick:l})])]))}}),h={class:"md:w-2/5 h-fit border shadow rounded p-4"},z=u("div",{class:"m-2"},"Inscription",-1),B=["src"],q={class:"mt-2 flex"},E=v({__name:"SignInForm",setup(V){const{createNewUser:n}=y(),e=p({username:"",email:"",first_name:"",last_name:"",profile_picture_url:"",handle:"@",password:"",pseudonym:"",pseudonymized:!1}),o=async()=>{await n(e.value)};return(r,l)=>(d(),c("div",h,[z,s(t,{class:"mt-2",label:"Email*",modelValue:e.value.email,"onUpdate:modelValue":l[0]||(l[0]=a=>e.value.email=a)},null,8,["modelValue"]),s(t,{class:"mt-2",label:"Prénom",modelValue:e.value.first_name,"onUpdate:modelValue":l[1]||(l[1]=a=>e.value.first_name=a)},null,8,["modelValue"]),s(t,{class:"mt-2",label:"Nom",modelValue:e.value.last_name,"onUpdate:modelValue":l[2]||(l[2]=a=>e.value.last_name=a)},null,8,["modelValue"]),s(t,{class:"mt-2",label:"Photo de profil",modelValue:e.value.profile_picture_url,"onUpdate:modelValue":l[3]||(l[3]=a=>e.value.profile_picture_url=a)},null,8,["modelValue"]),e.value.profile_picture_url!=""?(d(),c("img",{key:0,class:"rounded mt-2 mx-auto",src:e.value.profile_picture_url},null,8,B)):x("",!0),s(t,{class:"mt-2",label:"Pseudo",modelValue:e.value.pseudonym,"onUpdate:modelValue":l[4]||(l[4]=a=>e.value.pseudonym=a)},null,8,["modelValue"]),s(k,{class:"mt-2",modelValue:e.value.pseudonymized,"onUpdate:modelValue":l[5]||(l[5]=a=>e.value.pseudonymized=a),label:"Ne montrer que votre pseudo"},null,8,["modelValue"]),s(t,{class:"mt-2",label:"handle* (@comme_sur_insta)",modelValue:e.value.handle,"onUpdate:modelValue":l[6]||(l[6]=a=>e.value.handle=a)},null,8,["modelValue"]),s(t,{class:"mt-2",label:"Password*",modelValue:e.value.password,"onUpdate:modelValue":l[7]||(l[7]=a=>e.value.password=a),type:"password"},null,8,["modelValue"]),u("div",q,[s(i,{class:"ml-auto m-2",text:"Valider",type:"valid",onClick:o}),s(i,{class:"m-2",text:"Annuler",type:"abort",onClick:o})])]))}}),S={class:"mt-6 flex justify-center"},j={class:"ml-auto flex items-center"},D=v({__name:"LoginView",setup(V){const n=p(!1);return(e,o)=>(d(),c("div",S,[n.value?(d(),f(E,{key:1})):(d(),f(P,{key:0},{default:U(()=>[u("div",j,[u("div",{class:"text-xs underline p-2",onClick:o[0]||(o[0]=r=>n.value=!0)},"Créer un compte")])]),_:1}))]))}});export{D as default};
