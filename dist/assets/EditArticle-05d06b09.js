import{c as v}from"./ArticleForm.vue_vue_type_script_setup_true_lang-0892787f.js";import{d as _,r as f,j as w,y as t,q as x,c as h,f as s,h as n,u as A,B as g,o as y,_ as B,C}from"./index-4b7f2cf0.js";import"./TextInput.vue_vue_type_script_setup_true_lang-c49ad405.js";const k={class:"max-w-xl mt-8 mx-auto border-2 p-4"},E=s("div",null,"Edition",-1),N={class:"flex"},U=_({__name:"EditArticle",props:{id:{}},setup(r){const a=r,{newArticle:u,getArticle:d,updateArticle:o}=g(),e=u(),l=f(null),m=async()=>{await o(t(a).id.value,e.value),C.push("/articles/"+t(a).id.value)};return w(async()=>{e.value=await d(t(a).id.value)}),x(e,i=>{console.log("New article : ",i),l.value!==null&&clearTimeout(l.value),l.value=setTimeout(async()=>{await o(t(a).id.value,e.value)},2e3)},{deep:!0}),(i,c)=>(y(),h("div",null,[s("div",k,[E,n(v,{class:"w-full",article:A(e),onChange:c[0]||(c[0]=p=>e.value=p)},null,8,["article"]),s("div",N,[n(B,{onClick:m,text:"Valider",type:"valid",class:"ml-auto m-4"})])])]))}});export{U as default};
