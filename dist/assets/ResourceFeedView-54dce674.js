import{_ as d}from"./FeedList.vue_vue_type_script_setup_true_lang-c8badae5.js";import{u as m}from"./useResourceRelations-6f413b8d.js";import{d as _,f as a,c as p,g as f,B as v,h as x,j as h,u as w,C as b,o as k}from"./index-11e1e0f7.js";const B={class:"mt-1 md:w-96 mx-auto"},C=_({__name:"ResourceFeedView",props:{id:{}},setup(r){const o=r,{getResource:i}=w(),{headerValue:n}=b(),s=a(null),{getAllRelationsForResource:u}=m(),t=a([]),c=p(()=>t.value.map(e=>(console.log("Resource : ",e),{resource:e.origin_resource_id===o.id?e.target_resource:e.origin_resource,date:e.created_at,user_id:e.user_id,context_comment:e.relation_comment,interaction_type:"bibl",progress:null,...e})).sort((e,l)=>.5-Math.random()));return f(async()=>{t.value=await u(o.id),s.value=await i(o.id),n.value={text:s.value.title,link:`/resources/${s.value.id}`}}),v(()=>{n.value=null}),(e,l)=>(k(),x("div",B,[h(d,{"interactions-list":c.value},null,8,["interactions-list"])]))}});export{C as default};
