import{_ as o}from"./TextInput.vue_vue_type_script_setup_true_lang-1f65b253.js";import{e as V,o as d,c as m,b as r,t as g,r as f,f as $,a as t,u,_ as b}from"./index-b0b57d80.js";const v={class:"m-4"},A={class:"block text-2xs text-slate-800"},h=["value","placeholder"],c=V({__name:"TextAreaInput",props:{label:{},modelValue:{},placeholder:{}},emits:["update:modelValue"],setup(n,{emit:e}){const a=l=>{e("update:modelValue",l.target.value)};return(l,i)=>(d(),m("div",v,[r("label",A,g(l.label),1),r("textarea",{class:"border border-neutral-800 block h-full w-full",value:l.modelValue,placeholder:l.placeholder,onInput:i[0]||(i[0]=s=>a(s))},null,40,h)]))}});function U(){return{newArticle:()=>f({title:"",description:"",content:"",potential_improvements:"",progress:0,maturing_state:"",gdoc_url:"",image_url:"",url_slug:""}),createArticle:async a=>await $.post("/articles",a)}}const w={class:"flex"},_={class:"flex"},k=V({__name:"ArticleForm",props:{article:{}},setup(n){return(e,a)=>(d(),m("div",null,[t(o,{label:"Titre",modelValue:e.article.title,"onUpdate:modelValue":a[0]||(a[0]=l=>e.$emit("change",{...e.article,title:l}))},null,8,["modelValue"]),t(o,{class:"h-6",label:"Description",modelValue:e.article.description,"onUpdate:modelValue":a[1]||(a[1]=l=>e.$emit("change",{...e.article,description:l}))},null,8,["modelValue"]),r("div",w,[t(o,{class:"mr-auto h-6",label:"Progression",modelValue:e.article.progress,"onUpdate:modelValue":a[2]||(a[2]=l=>e.$emit("change",{...e.article,progress:l}))},null,8,["modelValue"]),t(o,{class:"h-6",label:"Stade d'écriture",modelValue:e.article.maturing_state,"onUpdate:modelValue":a[3]||(a[3]=l=>e.$emit("change",{...e.article,maturing_state:l}))},null,8,["modelValue"])]),r("div",_,[t(o,{class:"h-6",label:"Lien Gdoc",modelValue:e.article.gdoc_url,"onUpdate:modelValue":a[4]||(a[4]=l=>e.$emit("change",{...e.article,gdoc_url:l}))},null,8,["modelValue"]),t(o,{class:"h-6",label:"Lien image",modelValue:e.article.image_url,"onUpdate:modelValue":a[5]||(a[5]=l=>e.$emit("change",{...e.article,image_url:l}))},null,8,["modelValue"]),t(o,{class:"h-6",label:"Suffix url",modelValue:e.article.url_slug,"onUpdate:modelValue":a[6]||(a[6]=l=>e.$emit("change",{...e.article,url_slug:l}))},null,8,["modelValue"])]),t(c,{label:"Pistes d'amélioration",modelValue:e.article.potential_improvements,"onUpdate:modelValue":a[7]||(a[7]=l=>e.$emit("change",{...e.article,potential_improvements:l}))},null,8,["modelValue"]),t(c,{class:"h-60",label:"Contenu",modelValue:e.article.content,"onUpdate:modelValue":a[8]||(a[8]=l=>e.$emit("change",{...e.article,content:l}))},null,8,["modelValue"])]))}}),C={class:"max-w-xl mt-8 mx-auto border-2 p-4"},y=r("div",null,"Nouvel Article",-1),B={class:"flex"},S={__name:"WriteArticle",setup(n){const{newArticle:e,createArticle:a}=U(),l=e();return(i,s)=>(d(),m("div",null,[r("div",C,[y,t(k,{class:"w-full",article:u(l),onChange:s[0]||(s[0]=p=>l.value=p)},null,8,["article"]),r("div",B,[t(b,{onClick:s[1]||(s[1]=p=>u(a)(u(l))),text:"Valider",type:"valid",class:"ml-auto m-4"})])])]))}};export{S as default};
